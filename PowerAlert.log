2025-03-24T09:41:24.677+05:30  INFO 1780 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Starting PowerAlertApplication using Java 22.0.2 with PID 1780 (I:\Projects\PowerAlert\target\classes started by Chamath in I:\Projects\PowerAlert)
2025-03-24T09:41:24.712+05:30 DEBUG 1780 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-03-24T09:41:24.713+05:30  INFO 1780 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : No active profile set, falling back to 1 default profile: "default"
2025-03-24T09:41:24.948+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-core\2.3.0.1\jaxb-core-2.3.0.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-api.jar
2025-03-24T09:41:24.950+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-impl\2.3.1\jaxb-impl-2.3.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/jaxb-runtime-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/txw2-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/istack-commons-runtime-3.0.7.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/stax-ex-1.8.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/FastInfoset-1.2.15.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/javax.activation-api-1.2.0.jar
2025-03-24T09:41:24.950+05:30  INFO 1780 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-03-24T09:41:24.952+05:30  INFO 1780 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-03-24T09:41:45.712+05:30  INFO 1780 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T09:41:46.061+05:30  INFO 1780 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 324 ms. Found 13 JPA repository interfaces.
2025-03-24T09:41:50.816+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-24T09:41:50.864+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T09:41:50.867+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-03-24T09:41:51.148+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-24T09:41:51.149+05:30  INFO 1780 --- [PowerAlert] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 26194 ms
2025-03-24T09:41:52.060+05:30  INFO 1780 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T09:41:53.636+05:30  INFO 1780 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6bcaba1c
2025-03-24T09:41:53.640+05:30  INFO 1780 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T09:41:53.668+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/poweralert?createDatabaseIfNotExist=true'
2025-03-24T09:41:54.083+05:30  INFO 1780 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.util.JwtUtil          : JWT signing key initialized with new random key
2025-03-24T09:41:54.626+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T09:41:54.816+05:30  INFO 1780 --- [PowerAlert] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-24T09:41:54.925+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T09:41:55.663+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T09:41:55.842+05:30  WARN 1780 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T09:41:55.845+05:30  WARN 1780 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-24T09:41:59.331+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T09:41:59.929+05:30  INFO 1780 --- [PowerAlert] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T09:42:01.156+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-24T09:42:02.418+05:30 DEBUG 1780 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.config.JwtFilter      : Filter 'jwtFilter' configured for use
2025-03-24T09:42:04.532+05:30  INFO 1780 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : Configuring FreeMarker
2025-03-24T09:42:04.536+05:30  INFO 1780 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : FreeMarker configured with template path: classpath:/templates/
2025-03-24T09:42:05.376+05:30  INFO 1780 --- [PowerAlert] [restartedMain] l.i.p.s.i.PushNotificationServiceImpl    : Push notification service is disabled
2025-03-24T09:42:07.559+05:30  INFO 1780 --- [PowerAlert] [restartedMain] l.i.p.service.impl.SmsServiceImpl        : SMS service is disabled or not fully configured
2025-03-24T09:42:10.966+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-03-24T09:42:11.194+05:30  INFO 1780 --- [PowerAlert] [restartedMain] l.ijse.poweralert.config.SecurityConfig  : Configuring SecurityFilterChain
2025-03-24T09:42:11.439+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@37f425f0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4737100c, org.springframework.security.web.context.SecurityContextHolderFilter@215cc415, org.springframework.security.web.header.HeaderWriterFilter@5911ffb4, org.springframework.web.filter.CorsFilter@5154eea9, org.springframework.security.web.authentication.logout.LogoutFilter@f64e980, lk.ijse.poweralert.config.JwtFilter@631329c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@189a350, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e1a8bf3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e250174, org.springframework.security.web.session.SessionManagementFilter@35a2d3f, org.springframework.security.web.access.ExceptionTranslationFilter@2aaa1d97, org.springframework.security.web.access.intercept.AuthorizationFilter@1e37ba20]
2025-03-24T09:42:13.606+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-03-24T09:42:13.848+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-03-24T09:42:13.893+05:30  INFO 1780 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Started PowerAlertApplication in 50.549 seconds (process running for 57.765)
2025-03-24T09:43:02.805+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-24T09:43:02.807+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-24T09:43:02.820+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2025-03-24T09:43:02.987+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-03-24T09:43:03.120+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-1] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/login
2025-03-24T09:43:03.122+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-1] lk.ijse.poweralert.config.JwtFilter      : Skipping JWT validation for excluded path: /api/auth/login
2025-03-24T09:43:03.144+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T09:43:03.195+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-03-24T09:43:03.987+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.controller.AdminController         : Login attempt for user: Chamma@gmail.com
2025-03-24T09:43:05.074+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: Chamma@gmail.com
2025-03-24T09:43:05.155+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.s.impl.CustomUserDetailsService    : User not found by username, trying email...
2025-03-24T09:43:05.275+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.s.impl.CustomUserDetailsService    : User found with role: USER
2025-03-24T09:43:06.503+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-24T09:43:06.527+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Fetching basic info for user with username: Chamma
2025-03-24T09:43:06.527+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamma
2025-03-24T09:43:06.621+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-1] lk.ijse.poweralert.util.JwtUtil          : Generated token for user Chamma with role USER
2025-03-24T09:43:06.623+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Updating last login time for user with email: Chamma@gmail.com
2025-03-24T09:43:06.737+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamma
2025-03-24T09:43:06.788+05:30  INFO 1780 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending login notification email to: Chamma@gmail.com
2025-03-24T09:43:07.500+05:30  INFO 1780 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending email to: Chamma@gmail.com, subject: PowerAlert Security Alert: New Login
2025-03-24T09:43:07.521+05:30 DEBUG 1780 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T09:43:09.187+05:30 DEBUG 1780 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="widt...
2025-03-24T09:43:13.873+05:30  INFO 1780 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: Chamma@gmail.com
2025-03-24T09:43:43.379+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/forgot-password
2025-03-24T09:43:43.380+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/forgot-password
2025-03-24T09:43:43.381+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.config.JwtFilter      : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6MTAsImVtYWlsIjoiQ2hhbW1hQGdtYWlsLmNvbSIsInN1YiI6IkNoYW1tYSIsImlhdCI6MTc0Mjc4OTU4NiwiZXhwIjoxNzQzODI2Mzg2fQ.v-855q_cqUS8-3Imk1KI2exdLXWwDhpyvALd018C0sTaeQNaoUdfFUfVbYvPV1se-asJ5fWNAB-v8Kcc6dOwdQ
2025-03-24T09:43:43.428+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.config.JwtFilter      : Extracted username from token: Chamma
2025-03-24T09:43:43.429+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: Chamma
2025-03-24T09:43:43.437+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.s.impl.CustomUserDetailsService    : User found with role: USER
2025-03-24T09:43:43.445+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.config.JwtFilter      : Authentication set for user: Chamma with authorities: [ROLE_USER]
2025-03-24T09:43:43.448+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/forgot-password
2025-03-24T09:43:43.463+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.c.ForgotPasswordController         : Password reset requested for email: dilshancolonne123@gmail.com
2025-03-24T09:43:43.476+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.c.ForgotPasswordController         : Password reset email sent to: dilshancolonne123@gmail.com
2025-03-24T09:43:43.487+05:30  INFO 1780 --- [PowerAlert] [task-2] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: Reset your PowerAlert password
2025-03-24T09:43:43.487+05:30 DEBUG 1780 --- [PowerAlert] [task-2] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T09:43:43.494+05:30 DEBUG 1780 --- [PowerAlert] [task-2] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html><html lang="en"><head>  <meta charset="UTF-8">  <meta name="viewport" content="width=...
2025-03-24T09:43:47.097+05:30  INFO 1780 --- [PowerAlert] [task-2] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T09:44:20.598+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/reset-password
2025-03-24T09:44:20.600+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-4] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/reset-password
2025-03-24T09:44:20.600+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-4] lk.ijse.poweralert.config.JwtFilter      : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6MTAsImVtYWlsIjoiQ2hhbW1hQGdtYWlsLmNvbSIsInN1YiI6IkNoYW1tYSIsImlhdCI6MTc0Mjc1MDA2MywiZXhwIjoxNzQzNzg2ODYzfQ.rbb8srN3e3a1eZ-Y-OZjaXC0eD4BWnp8usQZcXev4UNO0TvidlE7rS8EFtUMjhHAnaYWm8UHbdhDEuLMQo9cWA
2025-03-24T09:44:20.604+05:30 ERROR 1780 --- [PowerAlert] [http-nio-8080-exec-4] lk.ijse.poweralert.config.JwtFilter      : Error extracting username from token: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.
2025-03-24T09:44:20.605+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T09:44:20.627+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-03-24T09:44:20.644+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-03-24T09:44:20.646+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T09:44:20.647+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-03-24T09:44:32.616+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/reset-password
2025-03-24T09:44:32.620+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-5] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/reset-password
2025-03-24T09:44:32.621+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-5] lk.ijse.poweralert.config.JwtFilter      : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6MTAsImVtYWlsIjoiQ2hhbW1hQGdtYWlsLmNvbSIsInN1YiI6IkNoYW1tYSIsImlhdCI6MTc0Mjc4OTU4NiwiZXhwIjoxNzQzODI2Mzg2fQ.v-855q_cqUS8-3Imk1KI2exdLXWwDhpyvALd018C0sTaeQNaoUdfFUfVbYvPV1se-asJ5fWNAB-v8Kcc6dOwdQ
2025-03-24T09:44:32.625+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-5] lk.ijse.poweralert.config.JwtFilter      : Extracted username from token: Chamma
2025-03-24T09:44:32.625+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-5] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: Chamma
2025-03-24T09:44:32.635+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-5] l.i.p.s.impl.CustomUserDetailsService    : User found with role: USER
2025-03-24T09:44:32.643+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-5] lk.ijse.poweralert.config.JwtFilter      : Authentication set for user: Chamma with authorities: [ROLE_USER]
2025-03-24T09:44:32.645+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/reset-password
2025-03-24T09:44:32.688+05:30  WARN 1780 --- [PowerAlert] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<lk.ijse.poweralert.dto.ResponseDTO> lk.ijse.poweralert.controller.ForgotPasswordController.resetPassword(lk.ijse.poweralert.controller.ForgotPasswordController$ResetPasswordRequest) with 2 errors: [Field error in object 'resetPasswordRequest' on field 'newPassword': rejected value [1234]; codes [Size.resetPasswordRequest.newPassword,Size.newPassword,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resetPasswordRequest.newPassword,newPassword]; arguments []; default message [newPassword],2147483647,8]; default message [Password must be at least 8 characters]] [Field error in object 'resetPasswordRequest' on field 'newPassword': rejected value [1234]; codes [Pattern.resetPasswordRequest.newPassword,Pattern.newPassword,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resetPasswordRequest.newPassword,newPassword]; arguments []; default message [newPassword],[Ljakarta.validation.constraints.Pattern$Flag;@205d733e,^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=])(?=\S+$).{8,}$]; default message [Password must contain at least one digit, one lowercase letter, one uppercase letter, one special character, and no whitespace]] ]
2025-03-24T09:44:50.662+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/reset-password
2025-03-24T09:44:50.663+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-6] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/reset-password
2025-03-24T09:44:50.664+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-6] lk.ijse.poweralert.config.JwtFilter      : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6MTAsImVtYWlsIjoiQ2hhbW1hQGdtYWlsLmNvbSIsInN1YiI6IkNoYW1tYSIsImlhdCI6MTc0Mjc4OTU4NiwiZXhwIjoxNzQzODI2Mzg2fQ.v-855q_cqUS8-3Imk1KI2exdLXWwDhpyvALd018C0sTaeQNaoUdfFUfVbYvPV1se-asJ5fWNAB-v8Kcc6dOwdQ
2025-03-24T09:44:50.670+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-6] lk.ijse.poweralert.config.JwtFilter      : Extracted username from token: Chamma
2025-03-24T09:44:50.671+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-6] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: Chamma
2025-03-24T09:44:50.683+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-6] l.i.p.s.impl.CustomUserDetailsService    : User found with role: USER
2025-03-24T09:44:50.689+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-6] lk.ijse.poweralert.config.JwtFilter      : Authentication set for user: Chamma with authorities: [ROLE_USER]
2025-03-24T09:44:50.693+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/reset-password
2025-03-24T09:44:50.695+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-6] l.i.p.c.ForgotPasswordController         : Processing password reset
2025-03-24T09:44:51.509+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-6] l.i.p.c.ForgotPasswordController         : Password reset successful for user ID: 2
2025-03-24T09:45:20.410+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-03-24T09:45:20.412+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-8] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/login
2025-03-24T09:45:20.413+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-8] lk.ijse.poweralert.config.JwtFilter      : Skipping JWT validation for excluded path: /api/auth/login
2025-03-24T09:45:20.413+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T09:45:20.414+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-03-24T09:45:20.416+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.controller.AdminController         : Login attempt for user: dilshancolonne123@gmail.com
2025-03-24T09:45:20.417+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: dilshancolonne123@gmail.com
2025-03-24T09:45:20.423+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.s.impl.CustomUserDetailsService    : User not found by username, trying email...
2025-03-24T09:45:20.433+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.s.impl.CustomUserDetailsService    : User found with role: USER
2025-03-24T09:45:21.261+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-24T09:45:21.264+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.service.impl.UserServiceImpl       : Fetching basic info for user with username: Chamath
2025-03-24T09:45:21.264+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T09:45:21.277+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-8] lk.ijse.poweralert.util.JwtUtil          : Generated token for user Chamath with role USER
2025-03-24T09:45:21.279+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.service.impl.UserServiceImpl       : Updating last login time for user with email: dilshancolonne123@gmail.com
2025-03-24T09:45:21.306+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T09:45:21.327+05:30  INFO 1780 --- [PowerAlert] [task-3] l.i.p.service.impl.EmailServiceImpl      : Sending login notification email to: dilshancolonne123@gmail.com
2025-03-24T09:45:21.332+05:30  INFO 1780 --- [PowerAlert] [task-3] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: PowerAlert Security Alert: New Login
2025-03-24T09:45:21.332+05:30 DEBUG 1780 --- [PowerAlert] [task-3] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T09:45:21.352+05:30 DEBUG 1780 --- [PowerAlert] [task-3] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="widt...
2025-03-24T09:45:25.851+05:30  INFO 1780 --- [PowerAlert] [task-3] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T09:50:01.161+05:30  INFO 1780 --- [PowerAlert] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T09:50:01.176+05:30  INFO 1780 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T09:50:01.206+05:30  INFO 1780 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T09:50:24.719+05:30  INFO 12364 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Starting PowerAlertApplication using Java 22.0.2 with PID 12364 (I:\Projects\PowerAlert\target\classes started by Chamath in I:\Projects\PowerAlert)
2025-03-24T09:50:24.722+05:30 DEBUG 12364 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-03-24T09:50:24.723+05:30  INFO 12364 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : No active profile set, falling back to 1 default profile: "default"
2025-03-24T09:50:24.853+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-core\2.3.0.1\jaxb-core-2.3.0.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-api.jar
2025-03-24T09:50:24.854+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-impl\2.3.1\jaxb-impl-2.3.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/jaxb-runtime-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/txw2-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/istack-commons-runtime-3.0.7.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/stax-ex-1.8.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/FastInfoset-1.2.15.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/javax.activation-api-1.2.0.jar
2025-03-24T09:50:24.855+05:30  INFO 12364 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-03-24T09:50:24.856+05:30  INFO 12364 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-03-24T09:50:27.537+05:30  INFO 12364 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T09:50:27.737+05:30  INFO 12364 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 187 ms. Found 13 JPA repository interfaces.
2025-03-24T09:50:30.434+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-24T09:50:30.454+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T09:50:30.455+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-03-24T09:50:30.608+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-24T09:50:30.609+05:30  INFO 12364 --- [PowerAlert] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5751 ms
2025-03-24T09:50:30.944+05:30  INFO 12364 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T09:50:31.584+05:30  INFO 12364 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@755b12c1
2025-03-24T09:50:31.589+05:30  INFO 12364 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T09:50:31.611+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/poweralert?createDatabaseIfNotExist=true'
2025-03-24T09:50:31.782+05:30  INFO 12364 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.util.JwtUtil          : JWT signing key initialized with new random key
2025-03-24T09:50:32.215+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T09:50:32.305+05:30  INFO 12364 --- [PowerAlert] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-24T09:50:32.366+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T09:50:32.749+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T09:50:32.858+05:30  WARN 12364 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T09:50:32.860+05:30  WARN 12364 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-24T09:50:35.774+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T09:50:36.093+05:30  INFO 12364 --- [PowerAlert] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T09:50:36.817+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-24T09:50:37.716+05:30 DEBUG 12364 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.config.JwtFilter      : Filter 'jwtFilter' configured for use
2025-03-24T09:50:39.114+05:30  INFO 12364 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : Configuring FreeMarker
2025-03-24T09:50:39.117+05:30  INFO 12364 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : FreeMarker configured with template path: classpath:/templates/
2025-03-24T09:50:39.710+05:30  INFO 12364 --- [PowerAlert] [restartedMain] l.i.p.s.i.PushNotificationServiceImpl    : Push notification service is disabled
2025-03-24T09:50:40.188+05:30  INFO 12364 --- [PowerAlert] [restartedMain] l.i.p.service.impl.SmsServiceImpl        : SMS service is disabled or not fully configured
2025-03-24T09:50:41.864+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-03-24T09:50:41.956+05:30  INFO 12364 --- [PowerAlert] [restartedMain] l.ijse.poweralert.config.SecurityConfig  : Configuring SecurityFilterChain
2025-03-24T09:50:42.105+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4cbf6ee9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18daac81, org.springframework.security.web.context.SecurityContextHolderFilter@72282536, org.springframework.security.web.header.HeaderWriterFilter@161df62d, org.springframework.web.filter.CorsFilter@48c1426c, org.springframework.security.web.authentication.logout.LogoutFilter@1a259ba, lk.ijse.poweralert.config.JwtFilter@19ae1704, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@672e753b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3cc5e617, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e9f5e16, org.springframework.security.web.session.SessionManagementFilter@73be73dd, org.springframework.security.web.access.ExceptionTranslationFilter@7662dbf2, org.springframework.security.web.access.intercept.AuthorizationFilter@3394c1b9]
2025-03-24T09:50:43.988+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-03-24T09:50:44.167+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-03-24T09:50:44.196+05:30  INFO 12364 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Started PowerAlertApplication in 20.466 seconds (process running for 22.622)
2025-03-24T09:50:53.811+05:30  INFO 12364 --- [PowerAlert] [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-24T09:50:53.811+05:30  INFO 12364 --- [PowerAlert] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-24T09:50:53.818+05:30  INFO 12364 --- [PowerAlert] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-03-24T09:50:53.884+05:30 DEBUG 12364 --- [PowerAlert] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-03-24T09:50:53.931+05:30 DEBUG 12364 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/login
2025-03-24T09:50:53.933+05:30 DEBUG 12364 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.config.JwtFilter      : Skipping JWT validation for excluded path: /api/auth/login
2025-03-24T09:50:53.949+05:30 DEBUG 12364 --- [PowerAlert] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T09:50:53.975+05:30 DEBUG 12364 --- [PowerAlert] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-03-24T09:50:54.459+05:30  INFO 12364 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.controller.AdminController         : Login attempt for user: dilshancolonne123@gmail.com
2025-03-24T09:50:55.173+05:30  INFO 12364 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: dilshancolonne123@gmail.com
2025-03-24T09:50:55.212+05:30 DEBUG 12364 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.s.impl.CustomUserDetailsService    : User not found by username, trying email...
2025-03-24T09:50:55.257+05:30  INFO 12364 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.s.impl.CustomUserDetailsService    : User found with role: USER
2025-03-24T09:50:56.000+05:30 DEBUG 12364 --- [PowerAlert] [http-nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-24T09:50:56.018+05:30  INFO 12364 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.UserServiceImpl       : Fetching basic info for user with username: Chamath
2025-03-24T09:50:56.019+05:30  INFO 12364 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T09:50:56.096+05:30 DEBUG 12364 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.util.JwtUtil          : Generated token for user Chamath with role USER
2025-03-24T09:50:56.098+05:30  INFO 12364 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.UserServiceImpl       : Updating last login time for user with email: dilshancolonne123@gmail.com
2025-03-24T09:50:56.198+05:30  INFO 12364 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T09:50:56.218+05:30  INFO 12364 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending login notification email to: dilshancolonne123@gmail.com
2025-03-24T09:50:56.537+05:30 ERROR 12364 --- [PowerAlert] [task-1] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> email  [in template "login-notification.ftl" at line 117, column 37]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${email}  [in template "login-notification.ftl" at line 117, column 35]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToTextualCommon(EvalUtil.java:481) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:401) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:370) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.visit(Environment.java:335) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.visit(Environment.java:341) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.process(Environment.java:314) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.template.Template.process(Template.java:383) ~[freemarker-2.3.32.jar:2.3.32]
	at org.springframework.ui.freemarker.FreeMarkerTemplateUtils.processTemplateIntoString(FreeMarkerTemplateUtils.java:50) ~[spring-context-support-6.1.5.jar:6.1.5]
	at lk.ijse.poweralert.service.impl.EmailServiceImpl.sendLoginNotificationEmail(EmailServiceImpl.java:514) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:113) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.util.concurrent.FutureUtils.lambda$toSupplier$0(FutureUtils.java:74) ~[spring-core-6.1.5.jar:6.1.5]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2025-03-24T09:50:56.551+05:30 ERROR 12364 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Failed to process login notification template: The following has evaluated to null or missing:
==> email  [in template "login-notification.ftl" at line 117, column 37]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${email}  [in template "login-notification.ftl" at line 117, column 35]
----

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> email  [in template "login-notification.ftl" at line 117, column 37]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${email}  [in template "login-notification.ftl" at line 117, column 35]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToTextualCommon(EvalUtil.java:481) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:401) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:370) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.visit(Environment.java:335) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.visit(Environment.java:341) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.process(Environment.java:314) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.template.Template.process(Template.java:383) ~[freemarker-2.3.32.jar:2.3.32]
	at org.springframework.ui.freemarker.FreeMarkerTemplateUtils.processTemplateIntoString(FreeMarkerTemplateUtils.java:50) ~[spring-context-support-6.1.5.jar:6.1.5]
	at lk.ijse.poweralert.service.impl.EmailServiceImpl.sendLoginNotificationEmail(EmailServiceImpl.java:514) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:113) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.util.concurrent.FutureUtils.lambda$toSupplier$0(FutureUtils.java:74) ~[spring-core-6.1.5.jar:6.1.5]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2025-03-24T09:50:56.553+05:30  INFO 12364 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: PowerAlert Security Alert: New Login
2025-03-24T09:50:56.554+05:30 DEBUG 12364 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T09:50:56.702+05:30 DEBUG 12364 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, ...
2025-03-24T09:51:00.912+05:30  INFO 12364 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T09:57:58.385+05:30  INFO 12364 --- [PowerAlert] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 152 class path changes (0 additions, 152 deletions, 0 modifications)
2025-03-24T09:57:58.758+05:30  INFO 12364 --- [PowerAlert] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T09:57:58.764+05:30  INFO 12364 --- [PowerAlert] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T09:57:58.818+05:30  INFO 12364 --- [PowerAlert] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T09:58:37.170+05:30  INFO 12360 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Starting PowerAlertApplication using Java 22.0.2 with PID 12360 (I:\Projects\PowerAlert\target\classes started by Chamath in I:\Projects\PowerAlert)
2025-03-24T09:58:37.172+05:30 DEBUG 12360 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-03-24T09:58:37.173+05:30  INFO 12360 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : No active profile set, falling back to 1 default profile: "default"
2025-03-24T09:58:37.239+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-core\2.3.0.1\jaxb-core-2.3.0.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-api.jar
2025-03-24T09:58:37.239+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-impl\2.3.1\jaxb-impl-2.3.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/jaxb-runtime-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/txw2-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/istack-commons-runtime-3.0.7.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/stax-ex-1.8.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/FastInfoset-1.2.15.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/javax.activation-api-1.2.0.jar
2025-03-24T09:58:37.239+05:30  INFO 12360 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-03-24T09:58:37.239+05:30  INFO 12360 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-03-24T09:58:40.045+05:30  INFO 12360 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T09:58:40.167+05:30  INFO 12360 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 113 ms. Found 13 JPA repository interfaces.
2025-03-24T09:58:41.267+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-24T09:58:41.279+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T09:58:41.280+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-03-24T09:58:41.346+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-24T09:58:41.347+05:30  INFO 12360 --- [PowerAlert] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4106 ms
2025-03-24T09:58:41.517+05:30  INFO 12360 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T09:58:41.810+05:30  INFO 12360 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@77ca0d48
2025-03-24T09:58:41.814+05:30  INFO 12360 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T09:58:41.823+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/poweralert?createDatabaseIfNotExist=true'
2025-03-24T09:58:41.900+05:30  INFO 12360 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.util.JwtUtil          : JWT signing key initialized with new random key
2025-03-24T09:58:42.089+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T09:58:42.176+05:30  INFO 12360 --- [PowerAlert] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-24T09:58:42.239+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T09:58:42.515+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T09:58:42.598+05:30  WARN 12360 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T09:58:42.599+05:30  WARN 12360 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-24T09:58:43.988+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T09:58:44.167+05:30  INFO 12360 --- [PowerAlert] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T09:58:44.598+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-24T09:58:45.058+05:30 DEBUG 12360 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.config.JwtFilter      : Filter 'jwtFilter' configured for use
2025-03-24T09:58:45.815+05:30  INFO 12360 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : Configuring FreeMarker
2025-03-24T09:58:45.816+05:30  INFO 12360 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : FreeMarker configured with template path: classpath:/templates/
2025-03-24T09:58:46.152+05:30  INFO 12360 --- [PowerAlert] [restartedMain] l.i.p.s.i.PushNotificationServiceImpl    : Push notification service is disabled
2025-03-24T09:58:46.431+05:30  INFO 12360 --- [PowerAlert] [restartedMain] l.i.p.service.impl.SmsServiceImpl        : SMS service is disabled or not fully configured
2025-03-24T09:58:47.328+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-03-24T09:58:47.395+05:30  INFO 12360 --- [PowerAlert] [restartedMain] l.ijse.poweralert.config.SecurityConfig  : Configuring SecurityFilterChain
2025-03-24T09:58:47.497+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4470f357, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@717b8eea, org.springframework.security.web.context.SecurityContextHolderFilter@ea7c25, org.springframework.security.web.header.HeaderWriterFilter@7ad6e54a, org.springframework.web.filter.CorsFilter@3bb40c50, org.springframework.security.web.authentication.logout.LogoutFilter@37ca4d96, lk.ijse.poweralert.config.JwtFilter@46b3a11c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7dfa4cc9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d38ead9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46d1f533, org.springframework.security.web.session.SessionManagementFilter@2d594340, org.springframework.security.web.access.ExceptionTranslationFilter@3e152f2c, org.springframework.security.web.access.intercept.AuthorizationFilter@2a998c8d]
2025-03-24T09:58:48.479+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-03-24T09:58:48.571+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-03-24T09:58:48.586+05:30  INFO 12360 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Started PowerAlertApplication in 11.995 seconds (process running for 13.267)
2025-03-24T09:58:52.655+05:30  INFO 12360 --- [PowerAlert] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-24T09:58:52.655+05:30  INFO 12360 --- [PowerAlert] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-24T09:58:52.657+05:30  INFO 12360 --- [PowerAlert] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-24T09:58:52.687+05:30 DEBUG 12360 --- [PowerAlert] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-03-24T09:58:52.699+05:30 DEBUG 12360 --- [PowerAlert] [http-nio-8080-exec-1] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/login
2025-03-24T09:58:52.700+05:30 DEBUG 12360 --- [PowerAlert] [http-nio-8080-exec-1] lk.ijse.poweralert.config.JwtFilter      : Skipping JWT validation for excluded path: /api/auth/login
2025-03-24T09:58:52.704+05:30 DEBUG 12360 --- [PowerAlert] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T09:58:52.710+05:30 DEBUG 12360 --- [PowerAlert] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-03-24T09:58:52.852+05:30  INFO 12360 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.controller.AdminController         : Login attempt for user: dilshancolonne123@gmail.com
2025-03-24T09:58:53.169+05:30  INFO 12360 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: dilshancolonne123@gmail.com
2025-03-24T09:58:53.191+05:30 DEBUG 12360 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.s.impl.CustomUserDetailsService    : User not found by username, trying email...
2025-03-24T09:58:53.228+05:30  INFO 12360 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.s.impl.CustomUserDetailsService    : User found with role: USER
2025-03-24T09:58:53.545+05:30 DEBUG 12360 --- [PowerAlert] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-24T09:58:53.556+05:30  INFO 12360 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Fetching basic info for user with username: Chamath
2025-03-24T09:58:53.556+05:30  INFO 12360 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T09:58:53.593+05:30 DEBUG 12360 --- [PowerAlert] [http-nio-8080-exec-1] lk.ijse.poweralert.util.JwtUtil          : Generated token for user Chamath with role USER
2025-03-24T09:58:53.594+05:30  INFO 12360 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Updating last login time for user with email: dilshancolonne123@gmail.com
2025-03-24T09:58:53.646+05:30  INFO 12360 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T09:58:53.658+05:30  INFO 12360 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending login notification email to: dilshancolonne123@gmail.com
2025-03-24T09:58:53.748+05:30 ERROR 12360 --- [PowerAlert] [task-1] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> email  [in template "login-notification.ftl" at line 117, column 37]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${email}  [in template "login-notification.ftl" at line 117, column 35]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToTextualCommon(EvalUtil.java:481) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:401) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:370) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.visit(Environment.java:335) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.visit(Environment.java:341) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.process(Environment.java:314) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.template.Template.process(Template.java:383) ~[freemarker-2.3.32.jar:2.3.32]
	at org.springframework.ui.freemarker.FreeMarkerTemplateUtils.processTemplateIntoString(FreeMarkerTemplateUtils.java:50) ~[spring-context-support-6.1.5.jar:6.1.5]
	at lk.ijse.poweralert.service.impl.EmailServiceImpl.sendLoginNotificationEmail(EmailServiceImpl.java:514) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:113) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.util.concurrent.FutureUtils.lambda$toSupplier$0(FutureUtils.java:74) ~[spring-core-6.1.5.jar:6.1.5]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2025-03-24T09:58:53.756+05:30 ERROR 12360 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Failed to process login notification template: The following has evaluated to null or missing:
==> email  [in template "login-notification.ftl" at line 117, column 37]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${email}  [in template "login-notification.ftl" at line 117, column 35]
----

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> email  [in template "login-notification.ftl" at line 117, column 37]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${email}  [in template "login-notification.ftl" at line 117, column 35]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToTextualCommon(EvalUtil.java:481) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:401) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:370) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.visit(Environment.java:335) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.visit(Environment.java:341) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.process(Environment.java:314) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.template.Template.process(Template.java:383) ~[freemarker-2.3.32.jar:2.3.32]
	at org.springframework.ui.freemarker.FreeMarkerTemplateUtils.processTemplateIntoString(FreeMarkerTemplateUtils.java:50) ~[spring-context-support-6.1.5.jar:6.1.5]
	at lk.ijse.poweralert.service.impl.EmailServiceImpl.sendLoginNotificationEmail(EmailServiceImpl.java:514) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:113) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.util.concurrent.FutureUtils.lambda$toSupplier$0(FutureUtils.java:74) ~[spring-core-6.1.5.jar:6.1.5]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2025-03-24T09:58:53.758+05:30  INFO 12360 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: PowerAlert Security Alert: New Login
2025-03-24T09:58:53.758+05:30 DEBUG 12360 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T09:58:53.872+05:30 DEBUG 12360 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, ...
2025-03-24T09:58:57.696+05:30  INFO 12360 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T10:04:39.882+05:30  INFO 12360 --- [PowerAlert] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T10:04:39.887+05:30  INFO 12360 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T10:04:39.980+05:30  INFO 12360 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T10:04:51.847+05:30  INFO 10608 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Starting PowerAlertApplication using Java 22.0.2 with PID 10608 (I:\Projects\PowerAlert\target\classes started by Chamath in I:\Projects\PowerAlert)
2025-03-24T10:04:51.850+05:30 DEBUG 10608 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-03-24T10:04:51.851+05:30  INFO 10608 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : No active profile set, falling back to 1 default profile: "default"
2025-03-24T10:04:51.923+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-core\2.3.0.1\jaxb-core-2.3.0.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-api.jar
2025-03-24T10:04:51.923+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-impl\2.3.1\jaxb-impl-2.3.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/jaxb-runtime-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/txw2-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/istack-commons-runtime-3.0.7.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/stax-ex-1.8.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/FastInfoset-1.2.15.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/javax.activation-api-1.2.0.jar
2025-03-24T10:04:51.923+05:30  INFO 10608 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-03-24T10:04:51.923+05:30  INFO 10608 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-03-24T10:04:53.625+05:30  INFO 10608 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T10:04:53.755+05:30  INFO 10608 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 117 ms. Found 13 JPA repository interfaces.
2025-03-24T10:04:54.833+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-24T10:04:54.848+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T10:04:54.849+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-03-24T10:04:54.928+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-24T10:04:54.928+05:30  INFO 10608 --- [PowerAlert] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3004 ms
2025-03-24T10:04:55.132+05:30  INFO 10608 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T10:04:55.421+05:30  INFO 10608 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@59c61075
2025-03-24T10:04:55.422+05:30  INFO 10608 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T10:04:55.432+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/poweralert?createDatabaseIfNotExist=true'
2025-03-24T10:04:55.509+05:30  INFO 10608 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.util.JwtUtil          : JWT signing key initialized with new random key
2025-03-24T10:04:55.686+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T10:04:55.750+05:30  INFO 10608 --- [PowerAlert] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-24T10:04:55.792+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T10:04:56.000+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T10:04:56.060+05:30  WARN 10608 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T10:04:56.061+05:30  WARN 10608 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-24T10:04:57.303+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T10:04:57.477+05:30  INFO 10608 --- [PowerAlert] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T10:04:57.862+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-24T10:04:58.304+05:30 DEBUG 10608 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.config.JwtFilter      : Filter 'jwtFilter' configured for use
2025-03-24T10:04:59.155+05:30  INFO 10608 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : Configuring FreeMarker
2025-03-24T10:04:59.156+05:30  INFO 10608 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : FreeMarker configured with template path: classpath:/templates/
2025-03-24T10:04:59.439+05:30  INFO 10608 --- [PowerAlert] [restartedMain] l.i.p.s.i.PushNotificationServiceImpl    : Push notification service is disabled
2025-03-24T10:04:59.692+05:30  INFO 10608 --- [PowerAlert] [restartedMain] l.i.p.service.impl.SmsServiceImpl        : SMS service is disabled or not fully configured
2025-03-24T10:05:00.573+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-03-24T10:05:00.621+05:30  INFO 10608 --- [PowerAlert] [restartedMain] l.ijse.poweralert.config.SecurityConfig  : Configuring SecurityFilterChain
2025-03-24T10:05:00.689+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fa20ecb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40fd95cd, org.springframework.security.web.context.SecurityContextHolderFilter@77d02451, org.springframework.security.web.header.HeaderWriterFilter@650ff4a6, org.springframework.web.filter.CorsFilter@4e77e01a, org.springframework.security.web.authentication.logout.LogoutFilter@3c08d98f, lk.ijse.poweralert.config.JwtFilter@4eacd8fd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@25c7951f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49b4db78, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f718ced, org.springframework.security.web.session.SessionManagementFilter@52b35b50, org.springframework.security.web.access.ExceptionTranslationFilter@223c494e, org.springframework.security.web.access.intercept.AuthorizationFilter@592f17ed]
2025-03-24T10:05:01.506+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-03-24T10:05:01.608+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-03-24T10:05:01.624+05:30  INFO 10608 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Started PowerAlertApplication in 10.359 seconds (process running for 11.542)
2025-03-24T10:05:03.514+05:30  INFO 10608 --- [PowerAlert] [RMI TCP Connection(2)-192.168.1.26] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-24T10:05:03.516+05:30  INFO 10608 --- [PowerAlert] [RMI TCP Connection(2)-192.168.1.26] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-24T10:05:03.522+05:30  INFO 10608 --- [PowerAlert] [RMI TCP Connection(2)-192.168.1.26] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-03-24T10:05:16.393+05:30 DEBUG 10608 --- [PowerAlert] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-03-24T10:05:16.406+05:30 DEBUG 10608 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/login
2025-03-24T10:05:16.406+05:30 DEBUG 10608 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.config.JwtFilter      : Skipping JWT validation for excluded path: /api/auth/login
2025-03-24T10:05:16.409+05:30 DEBUG 10608 --- [PowerAlert] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T10:05:16.417+05:30 DEBUG 10608 --- [PowerAlert] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-03-24T10:05:16.522+05:30  INFO 10608 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.controller.AdminController         : Login attempt for user: dilshancolonne123@gmail.com
2025-03-24T10:05:16.882+05:30  INFO 10608 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: dilshancolonne123@gmail.com
2025-03-24T10:05:16.907+05:30 DEBUG 10608 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.s.impl.CustomUserDetailsService    : User not found by username, trying email...
2025-03-24T10:05:16.936+05:30  INFO 10608 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.s.impl.CustomUserDetailsService    : User found with role: USER
2025-03-24T10:05:17.277+05:30 DEBUG 10608 --- [PowerAlert] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-24T10:05:17.287+05:30  INFO 10608 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Fetching basic info for user with username: Chamath
2025-03-24T10:05:17.287+05:30  INFO 10608 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T10:05:17.321+05:30 DEBUG 10608 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.util.JwtUtil          : Generated token for user Chamath with role USER
2025-03-24T10:05:17.323+05:30  INFO 10608 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Updating last login time for user with email: dilshancolonne123@gmail.com
2025-03-24T10:05:17.375+05:30  INFO 10608 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T10:05:17.389+05:30  INFO 10608 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending login notification email to: dilshancolonne123@gmail.com
2025-03-24T10:05:17.518+05:30  INFO 10608 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: PowerAlert Security Alert: New Login
2025-03-24T10:05:17.520+05:30 DEBUG 10608 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T10:05:17.603+05:30 DEBUG 10608 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="widt...
2025-03-24T10:05:22.084+05:30  INFO 10608 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T10:07:36.355+05:30  INFO 10608 --- [PowerAlert] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T10:07:36.364+05:30  INFO 10608 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T10:07:36.401+05:30  INFO 10608 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T10:07:40.718+05:30  INFO 7316 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Starting PowerAlertApplication using Java 22.0.2 with PID 7316 (I:\Projects\PowerAlert\target\classes started by Chamath in I:\Projects\PowerAlert)
2025-03-24T10:07:40.720+05:30 DEBUG 7316 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-03-24T10:07:40.721+05:30  INFO 7316 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : No active profile set, falling back to 1 default profile: "default"
2025-03-24T10:07:40.795+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-core\2.3.0.1\jaxb-core-2.3.0.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-api.jar
2025-03-24T10:07:40.795+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-impl\2.3.1\jaxb-impl-2.3.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/jaxb-runtime-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/txw2-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/istack-commons-runtime-3.0.7.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/stax-ex-1.8.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/FastInfoset-1.2.15.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/javax.activation-api-1.2.0.jar
2025-03-24T10:07:40.796+05:30  INFO 7316 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-03-24T10:07:40.796+05:30  INFO 7316 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-03-24T10:07:42.424+05:30  INFO 7316 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T10:07:42.536+05:30  INFO 7316 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 106 ms. Found 13 JPA repository interfaces.
2025-03-24T10:07:43.579+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-24T10:07:43.590+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T10:07:43.590+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-03-24T10:07:43.672+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-24T10:07:43.672+05:30  INFO 7316 --- [PowerAlert] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2875 ms
2025-03-24T10:07:43.955+05:30  INFO 7316 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T10:07:44.241+05:30  INFO 7316 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@62d8dd2
2025-03-24T10:07:44.243+05:30  INFO 7316 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T10:07:44.251+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/poweralert?createDatabaseIfNotExist=true'
2025-03-24T10:07:44.326+05:30  INFO 7316 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.util.JwtUtil          : JWT signing key initialized with new random key
2025-03-24T10:07:44.518+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T10:07:44.579+05:30  INFO 7316 --- [PowerAlert] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-24T10:07:44.616+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T10:07:44.824+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T10:07:44.882+05:30  WARN 7316 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T10:07:44.884+05:30  WARN 7316 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-24T10:07:46.133+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T10:07:46.303+05:30  INFO 7316 --- [PowerAlert] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T10:07:46.741+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-24T10:07:47.192+05:30 DEBUG 7316 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.config.JwtFilter      : Filter 'jwtFilter' configured for use
2025-03-24T10:07:47.935+05:30  INFO 7316 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : Configuring FreeMarker
2025-03-24T10:07:47.936+05:30  INFO 7316 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : FreeMarker configured with template path: classpath:/templates/
2025-03-24T10:07:48.235+05:30  INFO 7316 --- [PowerAlert] [restartedMain] l.i.p.s.i.PushNotificationServiceImpl    : Push notification service is disabled
2025-03-24T10:07:48.594+05:30  INFO 7316 --- [PowerAlert] [restartedMain] l.i.p.service.impl.SmsServiceImpl        : SMS service is disabled or not fully configured
2025-03-24T10:07:49.630+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-03-24T10:07:49.678+05:30  INFO 7316 --- [PowerAlert] [restartedMain] l.ijse.poweralert.config.SecurityConfig  : Configuring SecurityFilterChain
2025-03-24T10:07:49.743+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@35b22fd1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d2ab331, org.springframework.security.web.context.SecurityContextHolderFilter@2bc95ac6, org.springframework.security.web.header.HeaderWriterFilter@6e1222e7, org.springframework.web.filter.CorsFilter@f3ca62c, org.springframework.security.web.authentication.logout.LogoutFilter@1c2626e9, lk.ijse.poweralert.config.JwtFilter@27217d11, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@140c6210, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1eb2330c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1860b1f5, org.springframework.security.web.session.SessionManagementFilter@4f798f66, org.springframework.security.web.access.ExceptionTranslationFilter@65c5f41, org.springframework.security.web.access.intercept.AuthorizationFilter@1526ba84]
2025-03-24T10:07:50.568+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-03-24T10:07:50.656+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-03-24T10:07:50.671+05:30  INFO 7316 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Started PowerAlertApplication in 10.636 seconds (process running for 12.135)
2025-03-24T10:07:51.363+05:30  INFO 7316 --- [PowerAlert] [RMI TCP Connection(1)-192.168.1.26] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-24T10:07:51.363+05:30  INFO 7316 --- [PowerAlert] [RMI TCP Connection(1)-192.168.1.26] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-24T10:07:51.367+05:30  INFO 7316 --- [PowerAlert] [RMI TCP Connection(1)-192.168.1.26] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-03-24T10:08:00.466+05:30 DEBUG 7316 --- [PowerAlert] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-03-24T10:08:00.481+05:30 DEBUG 7316 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/login
2025-03-24T10:08:00.482+05:30 DEBUG 7316 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.config.JwtFilter      : Skipping JWT validation for excluded path: /api/auth/login
2025-03-24T10:08:00.485+05:30 DEBUG 7316 --- [PowerAlert] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T10:08:00.491+05:30 DEBUG 7316 --- [PowerAlert] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-03-24T10:08:00.590+05:30  INFO 7316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.controller.AdminController         : Login attempt for user: dilshancolonne123@gmail.com
2025-03-24T10:08:00.927+05:30  INFO 7316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: dilshancolonne123@gmail.com
2025-03-24T10:08:00.949+05:30 DEBUG 7316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.s.impl.CustomUserDetailsService    : User not found by username, trying email...
2025-03-24T10:08:00.976+05:30  INFO 7316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.s.impl.CustomUserDetailsService    : User found with role: USER
2025-03-24T10:08:01.388+05:30 DEBUG 7316 --- [PowerAlert] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-24T10:08:01.402+05:30  INFO 7316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Fetching basic info for user with username: Chamath
2025-03-24T10:08:01.402+05:30  INFO 7316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T10:08:01.448+05:30 DEBUG 7316 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.util.JwtUtil          : Generated token for user Chamath with role USER
2025-03-24T10:08:01.450+05:30  INFO 7316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Updating last login time for user with email: dilshancolonne123@gmail.com
2025-03-24T10:08:01.503+05:30  INFO 7316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T10:08:01.516+05:30  INFO 7316 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending login notification email to: dilshancolonne123@gmail.com
2025-03-24T10:08:01.670+05:30  INFO 7316 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: PowerAlert Security Alert: New Login
2025-03-24T10:08:01.671+05:30 DEBUG 7316 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T10:08:01.758+05:30 DEBUG 7316 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="widt...
2025-03-24T10:08:05.693+05:30  INFO 7316 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T10:09:17.550+05:30  INFO 7316 --- [PowerAlert] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T10:09:17.560+05:30  INFO 7316 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T10:09:17.581+05:30  INFO 7316 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
