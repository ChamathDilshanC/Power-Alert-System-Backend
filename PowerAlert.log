2025-03-24T09:41:24.677+05:30  INFO 1780 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Starting PowerAlertApplication using Java 22.0.2 with PID 1780 (I:\Projects\PowerAlert\target\classes started by Chamath in I:\Projects\PowerAlert)
2025-03-24T09:41:24.712+05:30 DEBUG 1780 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-03-24T09:41:24.713+05:30  INFO 1780 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : No active profile set, falling back to 1 default profile: "default"
2025-03-24T09:41:24.948+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-core\2.3.0.1\jaxb-core-2.3.0.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-api.jar
2025-03-24T09:41:24.950+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-impl\2.3.1\jaxb-impl-2.3.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/jaxb-runtime-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/txw2-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/istack-commons-runtime-3.0.7.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/stax-ex-1.8.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/FastInfoset-1.2.15.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/javax.activation-api-1.2.0.jar
2025-03-24T09:41:24.950+05:30  INFO 1780 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-03-24T09:41:24.952+05:30  INFO 1780 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-03-24T09:41:45.712+05:30  INFO 1780 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T09:41:46.061+05:30  INFO 1780 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 324 ms. Found 13 JPA repository interfaces.
2025-03-24T09:41:50.816+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-24T09:41:50.864+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T09:41:50.867+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-03-24T09:41:51.148+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-24T09:41:51.149+05:30  INFO 1780 --- [PowerAlert] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 26194 ms
2025-03-24T09:41:52.060+05:30  INFO 1780 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T09:41:53.636+05:30  INFO 1780 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6bcaba1c
2025-03-24T09:41:53.640+05:30  INFO 1780 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T09:41:53.668+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/poweralert?createDatabaseIfNotExist=true'
2025-03-24T09:41:54.083+05:30  INFO 1780 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.util.JwtUtil          : JWT signing key initialized with new random key
2025-03-24T09:41:54.626+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T09:41:54.816+05:30  INFO 1780 --- [PowerAlert] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-24T09:41:54.925+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T09:41:55.663+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T09:41:55.842+05:30  WARN 1780 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T09:41:55.845+05:30  WARN 1780 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-24T09:41:59.331+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T09:41:59.929+05:30  INFO 1780 --- [PowerAlert] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T09:42:01.156+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-24T09:42:02.418+05:30 DEBUG 1780 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.config.JwtFilter      : Filter 'jwtFilter' configured for use
2025-03-24T09:42:04.532+05:30  INFO 1780 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : Configuring FreeMarker
2025-03-24T09:42:04.536+05:30  INFO 1780 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : FreeMarker configured with template path: classpath:/templates/
2025-03-24T09:42:05.376+05:30  INFO 1780 --- [PowerAlert] [restartedMain] l.i.p.s.i.PushNotificationServiceImpl    : Push notification service is disabled
2025-03-24T09:42:07.559+05:30  INFO 1780 --- [PowerAlert] [restartedMain] l.i.p.service.impl.SmsServiceImpl        : SMS service is disabled or not fully configured
2025-03-24T09:42:10.966+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-03-24T09:42:11.194+05:30  INFO 1780 --- [PowerAlert] [restartedMain] l.ijse.poweralert.config.SecurityConfig  : Configuring SecurityFilterChain
2025-03-24T09:42:11.439+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@37f425f0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4737100c, org.springframework.security.web.context.SecurityContextHolderFilter@215cc415, org.springframework.security.web.header.HeaderWriterFilter@5911ffb4, org.springframework.web.filter.CorsFilter@5154eea9, org.springframework.security.web.authentication.logout.LogoutFilter@f64e980, lk.ijse.poweralert.config.JwtFilter@631329c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@189a350, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e1a8bf3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e250174, org.springframework.security.web.session.SessionManagementFilter@35a2d3f, org.springframework.security.web.access.ExceptionTranslationFilter@2aaa1d97, org.springframework.security.web.access.intercept.AuthorizationFilter@1e37ba20]
2025-03-24T09:42:13.606+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-03-24T09:42:13.848+05:30  INFO 1780 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-03-24T09:42:13.893+05:30  INFO 1780 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Started PowerAlertApplication in 50.549 seconds (process running for 57.765)
2025-03-24T09:43:02.805+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-24T09:43:02.807+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-24T09:43:02.820+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 13 ms
2025-03-24T09:43:02.987+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-03-24T09:43:03.120+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-1] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/login
2025-03-24T09:43:03.122+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-1] lk.ijse.poweralert.config.JwtFilter      : Skipping JWT validation for excluded path: /api/auth/login
2025-03-24T09:43:03.144+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T09:43:03.195+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-03-24T09:43:03.987+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.controller.AdminController         : Login attempt for user: Chamma@gmail.com
2025-03-24T09:43:05.074+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: Chamma@gmail.com
2025-03-24T09:43:05.155+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.s.impl.CustomUserDetailsService    : User not found by username, trying email...
2025-03-24T09:43:05.275+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.s.impl.CustomUserDetailsService    : User found with role: USER
2025-03-24T09:43:06.503+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-24T09:43:06.527+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Fetching basic info for user with username: Chamma
2025-03-24T09:43:06.527+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamma
2025-03-24T09:43:06.621+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-1] lk.ijse.poweralert.util.JwtUtil          : Generated token for user Chamma with role USER
2025-03-24T09:43:06.623+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Updating last login time for user with email: Chamma@gmail.com
2025-03-24T09:43:06.737+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamma
2025-03-24T09:43:06.788+05:30  INFO 1780 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending login notification email to: Chamma@gmail.com
2025-03-24T09:43:07.500+05:30  INFO 1780 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending email to: Chamma@gmail.com, subject: PowerAlert Security Alert: New Login
2025-03-24T09:43:07.521+05:30 DEBUG 1780 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T09:43:09.187+05:30 DEBUG 1780 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="widt...
2025-03-24T09:43:13.873+05:30  INFO 1780 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: Chamma@gmail.com
2025-03-24T09:43:43.379+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/forgot-password
2025-03-24T09:43:43.380+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/forgot-password
2025-03-24T09:43:43.381+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.config.JwtFilter      : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6MTAsImVtYWlsIjoiQ2hhbW1hQGdtYWlsLmNvbSIsInN1YiI6IkNoYW1tYSIsImlhdCI6MTc0Mjc4OTU4NiwiZXhwIjoxNzQzODI2Mzg2fQ.v-855q_cqUS8-3Imk1KI2exdLXWwDhpyvALd018C0sTaeQNaoUdfFUfVbYvPV1se-asJ5fWNAB-v8Kcc6dOwdQ
2025-03-24T09:43:43.428+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.config.JwtFilter      : Extracted username from token: Chamma
2025-03-24T09:43:43.429+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: Chamma
2025-03-24T09:43:43.437+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.s.impl.CustomUserDetailsService    : User found with role: USER
2025-03-24T09:43:43.445+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.config.JwtFilter      : Authentication set for user: Chamma with authorities: [ROLE_USER]
2025-03-24T09:43:43.448+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/forgot-password
2025-03-24T09:43:43.463+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.c.ForgotPasswordController         : Password reset requested for email: dilshancolonne123@gmail.com
2025-03-24T09:43:43.476+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.c.ForgotPasswordController         : Password reset email sent to: dilshancolonne123@gmail.com
2025-03-24T09:43:43.487+05:30  INFO 1780 --- [PowerAlert] [task-2] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: Reset your PowerAlert password
2025-03-24T09:43:43.487+05:30 DEBUG 1780 --- [PowerAlert] [task-2] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T09:43:43.494+05:30 DEBUG 1780 --- [PowerAlert] [task-2] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html><html lang="en"><head>  <meta charset="UTF-8">  <meta name="viewport" content="width=...
2025-03-24T09:43:47.097+05:30  INFO 1780 --- [PowerAlert] [task-2] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T09:44:20.598+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/reset-password
2025-03-24T09:44:20.600+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-4] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/reset-password
2025-03-24T09:44:20.600+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-4] lk.ijse.poweralert.config.JwtFilter      : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6MTAsImVtYWlsIjoiQ2hhbW1hQGdtYWlsLmNvbSIsInN1YiI6IkNoYW1tYSIsImlhdCI6MTc0Mjc1MDA2MywiZXhwIjoxNzQzNzg2ODYzfQ.rbb8srN3e3a1eZ-Y-OZjaXC0eD4BWnp8usQZcXev4UNO0TvidlE7rS8EFtUMjhHAnaYWm8UHbdhDEuLMQo9cWA
2025-03-24T09:44:20.604+05:30 ERROR 1780 --- [PowerAlert] [http-nio-8080-exec-4] lk.ijse.poweralert.config.JwtFilter      : Error extracting username from token: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.
2025-03-24T09:44:20.605+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T09:44:20.627+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-03-24T09:44:20.644+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-03-24T09:44:20.646+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T09:44:20.647+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-03-24T09:44:32.616+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/reset-password
2025-03-24T09:44:32.620+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-5] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/reset-password
2025-03-24T09:44:32.621+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-5] lk.ijse.poweralert.config.JwtFilter      : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6MTAsImVtYWlsIjoiQ2hhbW1hQGdtYWlsLmNvbSIsInN1YiI6IkNoYW1tYSIsImlhdCI6MTc0Mjc4OTU4NiwiZXhwIjoxNzQzODI2Mzg2fQ.v-855q_cqUS8-3Imk1KI2exdLXWwDhpyvALd018C0sTaeQNaoUdfFUfVbYvPV1se-asJ5fWNAB-v8Kcc6dOwdQ
2025-03-24T09:44:32.625+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-5] lk.ijse.poweralert.config.JwtFilter      : Extracted username from token: Chamma
2025-03-24T09:44:32.625+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-5] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: Chamma
2025-03-24T09:44:32.635+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-5] l.i.p.s.impl.CustomUserDetailsService    : User found with role: USER
2025-03-24T09:44:32.643+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-5] lk.ijse.poweralert.config.JwtFilter      : Authentication set for user: Chamma with authorities: [ROLE_USER]
2025-03-24T09:44:32.645+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/reset-password
2025-03-24T09:44:32.688+05:30  WARN 1780 --- [PowerAlert] [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<lk.ijse.poweralert.dto.ResponseDTO> lk.ijse.poweralert.controller.ForgotPasswordController.resetPassword(lk.ijse.poweralert.controller.ForgotPasswordController$ResetPasswordRequest) with 2 errors: [Field error in object 'resetPasswordRequest' on field 'newPassword': rejected value [1234]; codes [Size.resetPasswordRequest.newPassword,Size.newPassword,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resetPasswordRequest.newPassword,newPassword]; arguments []; default message [newPassword],2147483647,8]; default message [Password must be at least 8 characters]] [Field error in object 'resetPasswordRequest' on field 'newPassword': rejected value [1234]; codes [Pattern.resetPasswordRequest.newPassword,Pattern.newPassword,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [resetPasswordRequest.newPassword,newPassword]; arguments []; default message [newPassword],[Ljakarta.validation.constraints.Pattern$Flag;@205d733e,^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=])(?=\S+$).{8,}$]; default message [Password must contain at least one digit, one lowercase letter, one uppercase letter, one special character, and no whitespace]] ]
2025-03-24T09:44:50.662+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/reset-password
2025-03-24T09:44:50.663+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-6] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/reset-password
2025-03-24T09:44:50.664+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-6] lk.ijse.poweralert.config.JwtFilter      : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6MTAsImVtYWlsIjoiQ2hhbW1hQGdtYWlsLmNvbSIsInN1YiI6IkNoYW1tYSIsImlhdCI6MTc0Mjc4OTU4NiwiZXhwIjoxNzQzODI2Mzg2fQ.v-855q_cqUS8-3Imk1KI2exdLXWwDhpyvALd018C0sTaeQNaoUdfFUfVbYvPV1se-asJ5fWNAB-v8Kcc6dOwdQ
2025-03-24T09:44:50.670+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-6] lk.ijse.poweralert.config.JwtFilter      : Extracted username from token: Chamma
2025-03-24T09:44:50.671+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-6] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: Chamma
2025-03-24T09:44:50.683+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-6] l.i.p.s.impl.CustomUserDetailsService    : User found with role: USER
2025-03-24T09:44:50.689+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-6] lk.ijse.poweralert.config.JwtFilter      : Authentication set for user: Chamma with authorities: [ROLE_USER]
2025-03-24T09:44:50.693+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/reset-password
2025-03-24T09:44:50.695+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-6] l.i.p.c.ForgotPasswordController         : Processing password reset
2025-03-24T09:44:51.509+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-6] l.i.p.c.ForgotPasswordController         : Password reset successful for user ID: 2
2025-03-24T09:45:20.410+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-03-24T09:45:20.412+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-8] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/login
2025-03-24T09:45:20.413+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-8] lk.ijse.poweralert.config.JwtFilter      : Skipping JWT validation for excluded path: /api/auth/login
2025-03-24T09:45:20.413+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T09:45:20.414+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-03-24T09:45:20.416+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.controller.AdminController         : Login attempt for user: dilshancolonne123@gmail.com
2025-03-24T09:45:20.417+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: dilshancolonne123@gmail.com
2025-03-24T09:45:20.423+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.s.impl.CustomUserDetailsService    : User not found by username, trying email...
2025-03-24T09:45:20.433+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.s.impl.CustomUserDetailsService    : User found with role: USER
2025-03-24T09:45:21.261+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-24T09:45:21.264+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.service.impl.UserServiceImpl       : Fetching basic info for user with username: Chamath
2025-03-24T09:45:21.264+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T09:45:21.277+05:30 DEBUG 1780 --- [PowerAlert] [http-nio-8080-exec-8] lk.ijse.poweralert.util.JwtUtil          : Generated token for user Chamath with role USER
2025-03-24T09:45:21.279+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.service.impl.UserServiceImpl       : Updating last login time for user with email: dilshancolonne123@gmail.com
2025-03-24T09:45:21.306+05:30  INFO 1780 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T09:45:21.327+05:30  INFO 1780 --- [PowerAlert] [task-3] l.i.p.service.impl.EmailServiceImpl      : Sending login notification email to: dilshancolonne123@gmail.com
2025-03-24T09:45:21.332+05:30  INFO 1780 --- [PowerAlert] [task-3] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: PowerAlert Security Alert: New Login
2025-03-24T09:45:21.332+05:30 DEBUG 1780 --- [PowerAlert] [task-3] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T09:45:21.352+05:30 DEBUG 1780 --- [PowerAlert] [task-3] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="widt...
2025-03-24T09:45:25.851+05:30  INFO 1780 --- [PowerAlert] [task-3] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T09:50:01.161+05:30  INFO 1780 --- [PowerAlert] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T09:50:01.176+05:30  INFO 1780 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T09:50:01.206+05:30  INFO 1780 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T09:50:24.719+05:30  INFO 12364 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Starting PowerAlertApplication using Java 22.0.2 with PID 12364 (I:\Projects\PowerAlert\target\classes started by Chamath in I:\Projects\PowerAlert)
2025-03-24T09:50:24.722+05:30 DEBUG 12364 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-03-24T09:50:24.723+05:30  INFO 12364 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : No active profile set, falling back to 1 default profile: "default"
2025-03-24T09:50:24.853+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-core\2.3.0.1\jaxb-core-2.3.0.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-api.jar
2025-03-24T09:50:24.854+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-impl\2.3.1\jaxb-impl-2.3.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/jaxb-runtime-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/txw2-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/istack-commons-runtime-3.0.7.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/stax-ex-1.8.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/FastInfoset-1.2.15.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/javax.activation-api-1.2.0.jar
2025-03-24T09:50:24.855+05:30  INFO 12364 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-03-24T09:50:24.856+05:30  INFO 12364 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-03-24T09:50:27.537+05:30  INFO 12364 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T09:50:27.737+05:30  INFO 12364 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 187 ms. Found 13 JPA repository interfaces.
2025-03-24T09:50:30.434+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-24T09:50:30.454+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T09:50:30.455+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-03-24T09:50:30.608+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-24T09:50:30.609+05:30  INFO 12364 --- [PowerAlert] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5751 ms
2025-03-24T09:50:30.944+05:30  INFO 12364 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T09:50:31.584+05:30  INFO 12364 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@755b12c1
2025-03-24T09:50:31.589+05:30  INFO 12364 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T09:50:31.611+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/poweralert?createDatabaseIfNotExist=true'
2025-03-24T09:50:31.782+05:30  INFO 12364 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.util.JwtUtil          : JWT signing key initialized with new random key
2025-03-24T09:50:32.215+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T09:50:32.305+05:30  INFO 12364 --- [PowerAlert] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-24T09:50:32.366+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T09:50:32.749+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T09:50:32.858+05:30  WARN 12364 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T09:50:32.860+05:30  WARN 12364 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-24T09:50:35.774+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T09:50:36.093+05:30  INFO 12364 --- [PowerAlert] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T09:50:36.817+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-24T09:50:37.716+05:30 DEBUG 12364 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.config.JwtFilter      : Filter 'jwtFilter' configured for use
2025-03-24T09:50:39.114+05:30  INFO 12364 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : Configuring FreeMarker
2025-03-24T09:50:39.117+05:30  INFO 12364 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : FreeMarker configured with template path: classpath:/templates/
2025-03-24T09:50:39.710+05:30  INFO 12364 --- [PowerAlert] [restartedMain] l.i.p.s.i.PushNotificationServiceImpl    : Push notification service is disabled
2025-03-24T09:50:40.188+05:30  INFO 12364 --- [PowerAlert] [restartedMain] l.i.p.service.impl.SmsServiceImpl        : SMS service is disabled or not fully configured
2025-03-24T09:50:41.864+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-03-24T09:50:41.956+05:30  INFO 12364 --- [PowerAlert] [restartedMain] l.ijse.poweralert.config.SecurityConfig  : Configuring SecurityFilterChain
2025-03-24T09:50:42.105+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4cbf6ee9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18daac81, org.springframework.security.web.context.SecurityContextHolderFilter@72282536, org.springframework.security.web.header.HeaderWriterFilter@161df62d, org.springframework.web.filter.CorsFilter@48c1426c, org.springframework.security.web.authentication.logout.LogoutFilter@1a259ba, lk.ijse.poweralert.config.JwtFilter@19ae1704, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@672e753b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3cc5e617, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e9f5e16, org.springframework.security.web.session.SessionManagementFilter@73be73dd, org.springframework.security.web.access.ExceptionTranslationFilter@7662dbf2, org.springframework.security.web.access.intercept.AuthorizationFilter@3394c1b9]
2025-03-24T09:50:43.988+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-03-24T09:50:44.167+05:30  INFO 12364 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-03-24T09:50:44.196+05:30  INFO 12364 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Started PowerAlertApplication in 20.466 seconds (process running for 22.622)
2025-03-24T09:50:53.811+05:30  INFO 12364 --- [PowerAlert] [http-nio-8080-exec-3] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-24T09:50:53.811+05:30  INFO 12364 --- [PowerAlert] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-24T09:50:53.818+05:30  INFO 12364 --- [PowerAlert] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-03-24T09:50:53.884+05:30 DEBUG 12364 --- [PowerAlert] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-03-24T09:50:53.931+05:30 DEBUG 12364 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/login
2025-03-24T09:50:53.933+05:30 DEBUG 12364 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.config.JwtFilter      : Skipping JWT validation for excluded path: /api/auth/login
2025-03-24T09:50:53.949+05:30 DEBUG 12364 --- [PowerAlert] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T09:50:53.975+05:30 DEBUG 12364 --- [PowerAlert] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-03-24T09:50:54.459+05:30  INFO 12364 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.controller.AdminController         : Login attempt for user: dilshancolonne123@gmail.com
2025-03-24T09:50:55.173+05:30  INFO 12364 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: dilshancolonne123@gmail.com
2025-03-24T09:50:55.212+05:30 DEBUG 12364 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.s.impl.CustomUserDetailsService    : User not found by username, trying email...
2025-03-24T09:50:55.257+05:30  INFO 12364 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.s.impl.CustomUserDetailsService    : User found with role: USER
2025-03-24T09:50:56.000+05:30 DEBUG 12364 --- [PowerAlert] [http-nio-8080-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-24T09:50:56.018+05:30  INFO 12364 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.UserServiceImpl       : Fetching basic info for user with username: Chamath
2025-03-24T09:50:56.019+05:30  INFO 12364 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T09:50:56.096+05:30 DEBUG 12364 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.util.JwtUtil          : Generated token for user Chamath with role USER
2025-03-24T09:50:56.098+05:30  INFO 12364 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.UserServiceImpl       : Updating last login time for user with email: dilshancolonne123@gmail.com
2025-03-24T09:50:56.198+05:30  INFO 12364 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T09:50:56.218+05:30  INFO 12364 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending login notification email to: dilshancolonne123@gmail.com
2025-03-24T09:50:56.537+05:30 ERROR 12364 --- [PowerAlert] [task-1] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> email  [in template "login-notification.ftl" at line 117, column 37]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${email}  [in template "login-notification.ftl" at line 117, column 35]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToTextualCommon(EvalUtil.java:481) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:401) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:370) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.visit(Environment.java:335) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.visit(Environment.java:341) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.process(Environment.java:314) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.template.Template.process(Template.java:383) ~[freemarker-2.3.32.jar:2.3.32]
	at org.springframework.ui.freemarker.FreeMarkerTemplateUtils.processTemplateIntoString(FreeMarkerTemplateUtils.java:50) ~[spring-context-support-6.1.5.jar:6.1.5]
	at lk.ijse.poweralert.service.impl.EmailServiceImpl.sendLoginNotificationEmail(EmailServiceImpl.java:514) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:113) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.util.concurrent.FutureUtils.lambda$toSupplier$0(FutureUtils.java:74) ~[spring-core-6.1.5.jar:6.1.5]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2025-03-24T09:50:56.551+05:30 ERROR 12364 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Failed to process login notification template: The following has evaluated to null or missing:
==> email  [in template "login-notification.ftl" at line 117, column 37]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${email}  [in template "login-notification.ftl" at line 117, column 35]
----

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> email  [in template "login-notification.ftl" at line 117, column 37]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${email}  [in template "login-notification.ftl" at line 117, column 35]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToTextualCommon(EvalUtil.java:481) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:401) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:370) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.visit(Environment.java:335) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.visit(Environment.java:341) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.process(Environment.java:314) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.template.Template.process(Template.java:383) ~[freemarker-2.3.32.jar:2.3.32]
	at org.springframework.ui.freemarker.FreeMarkerTemplateUtils.processTemplateIntoString(FreeMarkerTemplateUtils.java:50) ~[spring-context-support-6.1.5.jar:6.1.5]
	at lk.ijse.poweralert.service.impl.EmailServiceImpl.sendLoginNotificationEmail(EmailServiceImpl.java:514) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:113) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.util.concurrent.FutureUtils.lambda$toSupplier$0(FutureUtils.java:74) ~[spring-core-6.1.5.jar:6.1.5]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2025-03-24T09:50:56.553+05:30  INFO 12364 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: PowerAlert Security Alert: New Login
2025-03-24T09:50:56.554+05:30 DEBUG 12364 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T09:50:56.702+05:30 DEBUG 12364 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, ...
2025-03-24T09:51:00.912+05:30  INFO 12364 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T09:57:58.385+05:30  INFO 12364 --- [PowerAlert] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 152 class path changes (0 additions, 152 deletions, 0 modifications)
2025-03-24T09:57:58.758+05:30  INFO 12364 --- [PowerAlert] [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T09:57:58.764+05:30  INFO 12364 --- [PowerAlert] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T09:57:58.818+05:30  INFO 12364 --- [PowerAlert] [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T09:58:37.170+05:30  INFO 12360 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Starting PowerAlertApplication using Java 22.0.2 with PID 12360 (I:\Projects\PowerAlert\target\classes started by Chamath in I:\Projects\PowerAlert)
2025-03-24T09:58:37.172+05:30 DEBUG 12360 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-03-24T09:58:37.173+05:30  INFO 12360 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : No active profile set, falling back to 1 default profile: "default"
2025-03-24T09:58:37.239+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-core\2.3.0.1\jaxb-core-2.3.0.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-api.jar
2025-03-24T09:58:37.239+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-impl\2.3.1\jaxb-impl-2.3.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/jaxb-runtime-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/txw2-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/istack-commons-runtime-3.0.7.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/stax-ex-1.8.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/FastInfoset-1.2.15.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/javax.activation-api-1.2.0.jar
2025-03-24T09:58:37.239+05:30  INFO 12360 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-03-24T09:58:37.239+05:30  INFO 12360 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-03-24T09:58:40.045+05:30  INFO 12360 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T09:58:40.167+05:30  INFO 12360 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 113 ms. Found 13 JPA repository interfaces.
2025-03-24T09:58:41.267+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-24T09:58:41.279+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T09:58:41.280+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-03-24T09:58:41.346+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-24T09:58:41.347+05:30  INFO 12360 --- [PowerAlert] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4106 ms
2025-03-24T09:58:41.517+05:30  INFO 12360 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T09:58:41.810+05:30  INFO 12360 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@77ca0d48
2025-03-24T09:58:41.814+05:30  INFO 12360 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T09:58:41.823+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/poweralert?createDatabaseIfNotExist=true'
2025-03-24T09:58:41.900+05:30  INFO 12360 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.util.JwtUtil          : JWT signing key initialized with new random key
2025-03-24T09:58:42.089+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T09:58:42.176+05:30  INFO 12360 --- [PowerAlert] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-24T09:58:42.239+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T09:58:42.515+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T09:58:42.598+05:30  WARN 12360 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T09:58:42.599+05:30  WARN 12360 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-24T09:58:43.988+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T09:58:44.167+05:30  INFO 12360 --- [PowerAlert] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T09:58:44.598+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-24T09:58:45.058+05:30 DEBUG 12360 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.config.JwtFilter      : Filter 'jwtFilter' configured for use
2025-03-24T09:58:45.815+05:30  INFO 12360 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : Configuring FreeMarker
2025-03-24T09:58:45.816+05:30  INFO 12360 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : FreeMarker configured with template path: classpath:/templates/
2025-03-24T09:58:46.152+05:30  INFO 12360 --- [PowerAlert] [restartedMain] l.i.p.s.i.PushNotificationServiceImpl    : Push notification service is disabled
2025-03-24T09:58:46.431+05:30  INFO 12360 --- [PowerAlert] [restartedMain] l.i.p.service.impl.SmsServiceImpl        : SMS service is disabled or not fully configured
2025-03-24T09:58:47.328+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-03-24T09:58:47.395+05:30  INFO 12360 --- [PowerAlert] [restartedMain] l.ijse.poweralert.config.SecurityConfig  : Configuring SecurityFilterChain
2025-03-24T09:58:47.497+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4470f357, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@717b8eea, org.springframework.security.web.context.SecurityContextHolderFilter@ea7c25, org.springframework.security.web.header.HeaderWriterFilter@7ad6e54a, org.springframework.web.filter.CorsFilter@3bb40c50, org.springframework.security.web.authentication.logout.LogoutFilter@37ca4d96, lk.ijse.poweralert.config.JwtFilter@46b3a11c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7dfa4cc9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d38ead9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46d1f533, org.springframework.security.web.session.SessionManagementFilter@2d594340, org.springframework.security.web.access.ExceptionTranslationFilter@3e152f2c, org.springframework.security.web.access.intercept.AuthorizationFilter@2a998c8d]
2025-03-24T09:58:48.479+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-03-24T09:58:48.571+05:30  INFO 12360 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-03-24T09:58:48.586+05:30  INFO 12360 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Started PowerAlertApplication in 11.995 seconds (process running for 13.267)
2025-03-24T09:58:52.655+05:30  INFO 12360 --- [PowerAlert] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-24T09:58:52.655+05:30  INFO 12360 --- [PowerAlert] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-24T09:58:52.657+05:30  INFO 12360 --- [PowerAlert] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-03-24T09:58:52.687+05:30 DEBUG 12360 --- [PowerAlert] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-03-24T09:58:52.699+05:30 DEBUG 12360 --- [PowerAlert] [http-nio-8080-exec-1] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/login
2025-03-24T09:58:52.700+05:30 DEBUG 12360 --- [PowerAlert] [http-nio-8080-exec-1] lk.ijse.poweralert.config.JwtFilter      : Skipping JWT validation for excluded path: /api/auth/login
2025-03-24T09:58:52.704+05:30 DEBUG 12360 --- [PowerAlert] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T09:58:52.710+05:30 DEBUG 12360 --- [PowerAlert] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-03-24T09:58:52.852+05:30  INFO 12360 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.controller.AdminController         : Login attempt for user: dilshancolonne123@gmail.com
2025-03-24T09:58:53.169+05:30  INFO 12360 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: dilshancolonne123@gmail.com
2025-03-24T09:58:53.191+05:30 DEBUG 12360 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.s.impl.CustomUserDetailsService    : User not found by username, trying email...
2025-03-24T09:58:53.228+05:30  INFO 12360 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.s.impl.CustomUserDetailsService    : User found with role: USER
2025-03-24T09:58:53.545+05:30 DEBUG 12360 --- [PowerAlert] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-24T09:58:53.556+05:30  INFO 12360 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Fetching basic info for user with username: Chamath
2025-03-24T09:58:53.556+05:30  INFO 12360 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T09:58:53.593+05:30 DEBUG 12360 --- [PowerAlert] [http-nio-8080-exec-1] lk.ijse.poweralert.util.JwtUtil          : Generated token for user Chamath with role USER
2025-03-24T09:58:53.594+05:30  INFO 12360 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Updating last login time for user with email: dilshancolonne123@gmail.com
2025-03-24T09:58:53.646+05:30  INFO 12360 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T09:58:53.658+05:30  INFO 12360 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending login notification email to: dilshancolonne123@gmail.com
2025-03-24T09:58:53.748+05:30 ERROR 12360 --- [PowerAlert] [task-1] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> email  [in template "login-notification.ftl" at line 117, column 37]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${email}  [in template "login-notification.ftl" at line 117, column 35]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToTextualCommon(EvalUtil.java:481) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:401) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:370) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.visit(Environment.java:335) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.visit(Environment.java:341) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.process(Environment.java:314) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.template.Template.process(Template.java:383) ~[freemarker-2.3.32.jar:2.3.32]
	at org.springframework.ui.freemarker.FreeMarkerTemplateUtils.processTemplateIntoString(FreeMarkerTemplateUtils.java:50) ~[spring-context-support-6.1.5.jar:6.1.5]
	at lk.ijse.poweralert.service.impl.EmailServiceImpl.sendLoginNotificationEmail(EmailServiceImpl.java:514) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:113) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.util.concurrent.FutureUtils.lambda$toSupplier$0(FutureUtils.java:74) ~[spring-core-6.1.5.jar:6.1.5]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2025-03-24T09:58:53.756+05:30 ERROR 12360 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Failed to process login notification template: The following has evaluated to null or missing:
==> email  [in template "login-notification.ftl" at line 117, column 37]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${email}  [in template "login-notification.ftl" at line 117, column 35]
----

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> email  [in template "login-notification.ftl" at line 117, column 37]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${email}  [in template "login-notification.ftl" at line 117, column 35]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToTextualCommon(EvalUtil.java:481) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:401) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:370) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.visit(Environment.java:335) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.visit(Environment.java:341) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.process(Environment.java:314) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.template.Template.process(Template.java:383) ~[freemarker-2.3.32.jar:2.3.32]
	at org.springframework.ui.freemarker.FreeMarkerTemplateUtils.processTemplateIntoString(FreeMarkerTemplateUtils.java:50) ~[spring-context-support-6.1.5.jar:6.1.5]
	at lk.ijse.poweralert.service.impl.EmailServiceImpl.sendLoginNotificationEmail(EmailServiceImpl.java:514) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:113) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.util.concurrent.FutureUtils.lambda$toSupplier$0(FutureUtils.java:74) ~[spring-core-6.1.5.jar:6.1.5]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2025-03-24T09:58:53.758+05:30  INFO 12360 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: PowerAlert Security Alert: New Login
2025-03-24T09:58:53.758+05:30 DEBUG 12360 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T09:58:53.872+05:30 DEBUG 12360 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, ...
2025-03-24T09:58:57.696+05:30  INFO 12360 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T10:04:39.882+05:30  INFO 12360 --- [PowerAlert] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T10:04:39.887+05:30  INFO 12360 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T10:04:39.980+05:30  INFO 12360 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T10:04:51.847+05:30  INFO 10608 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Starting PowerAlertApplication using Java 22.0.2 with PID 10608 (I:\Projects\PowerAlert\target\classes started by Chamath in I:\Projects\PowerAlert)
2025-03-24T10:04:51.850+05:30 DEBUG 10608 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-03-24T10:04:51.851+05:30  INFO 10608 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : No active profile set, falling back to 1 default profile: "default"
2025-03-24T10:04:51.923+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-core\2.3.0.1\jaxb-core-2.3.0.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-api.jar
2025-03-24T10:04:51.923+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-impl\2.3.1\jaxb-impl-2.3.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/jaxb-runtime-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/txw2-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/istack-commons-runtime-3.0.7.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/stax-ex-1.8.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/FastInfoset-1.2.15.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/javax.activation-api-1.2.0.jar
2025-03-24T10:04:51.923+05:30  INFO 10608 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-03-24T10:04:51.923+05:30  INFO 10608 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-03-24T10:04:53.625+05:30  INFO 10608 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T10:04:53.755+05:30  INFO 10608 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 117 ms. Found 13 JPA repository interfaces.
2025-03-24T10:04:54.833+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-24T10:04:54.848+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T10:04:54.849+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-03-24T10:04:54.928+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-24T10:04:54.928+05:30  INFO 10608 --- [PowerAlert] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3004 ms
2025-03-24T10:04:55.132+05:30  INFO 10608 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T10:04:55.421+05:30  INFO 10608 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@59c61075
2025-03-24T10:04:55.422+05:30  INFO 10608 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T10:04:55.432+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/poweralert?createDatabaseIfNotExist=true'
2025-03-24T10:04:55.509+05:30  INFO 10608 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.util.JwtUtil          : JWT signing key initialized with new random key
2025-03-24T10:04:55.686+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T10:04:55.750+05:30  INFO 10608 --- [PowerAlert] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-24T10:04:55.792+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T10:04:56.000+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T10:04:56.060+05:30  WARN 10608 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T10:04:56.061+05:30  WARN 10608 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-24T10:04:57.303+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T10:04:57.477+05:30  INFO 10608 --- [PowerAlert] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T10:04:57.862+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-24T10:04:58.304+05:30 DEBUG 10608 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.config.JwtFilter      : Filter 'jwtFilter' configured for use
2025-03-24T10:04:59.155+05:30  INFO 10608 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : Configuring FreeMarker
2025-03-24T10:04:59.156+05:30  INFO 10608 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : FreeMarker configured with template path: classpath:/templates/
2025-03-24T10:04:59.439+05:30  INFO 10608 --- [PowerAlert] [restartedMain] l.i.p.s.i.PushNotificationServiceImpl    : Push notification service is disabled
2025-03-24T10:04:59.692+05:30  INFO 10608 --- [PowerAlert] [restartedMain] l.i.p.service.impl.SmsServiceImpl        : SMS service is disabled or not fully configured
2025-03-24T10:05:00.573+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-03-24T10:05:00.621+05:30  INFO 10608 --- [PowerAlert] [restartedMain] l.ijse.poweralert.config.SecurityConfig  : Configuring SecurityFilterChain
2025-03-24T10:05:00.689+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fa20ecb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40fd95cd, org.springframework.security.web.context.SecurityContextHolderFilter@77d02451, org.springframework.security.web.header.HeaderWriterFilter@650ff4a6, org.springframework.web.filter.CorsFilter@4e77e01a, org.springframework.security.web.authentication.logout.LogoutFilter@3c08d98f, lk.ijse.poweralert.config.JwtFilter@4eacd8fd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@25c7951f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49b4db78, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f718ced, org.springframework.security.web.session.SessionManagementFilter@52b35b50, org.springframework.security.web.access.ExceptionTranslationFilter@223c494e, org.springframework.security.web.access.intercept.AuthorizationFilter@592f17ed]
2025-03-24T10:05:01.506+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-03-24T10:05:01.608+05:30  INFO 10608 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-03-24T10:05:01.624+05:30  INFO 10608 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Started PowerAlertApplication in 10.359 seconds (process running for 11.542)
2025-03-24T10:05:03.514+05:30  INFO 10608 --- [PowerAlert] [RMI TCP Connection(2)-192.168.1.26] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-24T10:05:03.516+05:30  INFO 10608 --- [PowerAlert] [RMI TCP Connection(2)-192.168.1.26] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-24T10:05:03.522+05:30  INFO 10608 --- [PowerAlert] [RMI TCP Connection(2)-192.168.1.26] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-03-24T10:05:16.393+05:30 DEBUG 10608 --- [PowerAlert] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-03-24T10:05:16.406+05:30 DEBUG 10608 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/login
2025-03-24T10:05:16.406+05:30 DEBUG 10608 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.config.JwtFilter      : Skipping JWT validation for excluded path: /api/auth/login
2025-03-24T10:05:16.409+05:30 DEBUG 10608 --- [PowerAlert] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T10:05:16.417+05:30 DEBUG 10608 --- [PowerAlert] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-03-24T10:05:16.522+05:30  INFO 10608 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.controller.AdminController         : Login attempt for user: dilshancolonne123@gmail.com
2025-03-24T10:05:16.882+05:30  INFO 10608 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: dilshancolonne123@gmail.com
2025-03-24T10:05:16.907+05:30 DEBUG 10608 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.s.impl.CustomUserDetailsService    : User not found by username, trying email...
2025-03-24T10:05:16.936+05:30  INFO 10608 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.s.impl.CustomUserDetailsService    : User found with role: USER
2025-03-24T10:05:17.277+05:30 DEBUG 10608 --- [PowerAlert] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-24T10:05:17.287+05:30  INFO 10608 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Fetching basic info for user with username: Chamath
2025-03-24T10:05:17.287+05:30  INFO 10608 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T10:05:17.321+05:30 DEBUG 10608 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.util.JwtUtil          : Generated token for user Chamath with role USER
2025-03-24T10:05:17.323+05:30  INFO 10608 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Updating last login time for user with email: dilshancolonne123@gmail.com
2025-03-24T10:05:17.375+05:30  INFO 10608 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T10:05:17.389+05:30  INFO 10608 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending login notification email to: dilshancolonne123@gmail.com
2025-03-24T10:05:17.518+05:30  INFO 10608 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: PowerAlert Security Alert: New Login
2025-03-24T10:05:17.520+05:30 DEBUG 10608 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T10:05:17.603+05:30 DEBUG 10608 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="widt...
2025-03-24T10:05:22.084+05:30  INFO 10608 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T10:07:36.355+05:30  INFO 10608 --- [PowerAlert] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T10:07:36.364+05:30  INFO 10608 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T10:07:36.401+05:30  INFO 10608 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T10:07:40.718+05:30  INFO 7316 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Starting PowerAlertApplication using Java 22.0.2 with PID 7316 (I:\Projects\PowerAlert\target\classes started by Chamath in I:\Projects\PowerAlert)
2025-03-24T10:07:40.720+05:30 DEBUG 7316 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-03-24T10:07:40.721+05:30  INFO 7316 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : No active profile set, falling back to 1 default profile: "default"
2025-03-24T10:07:40.795+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-core\2.3.0.1\jaxb-core-2.3.0.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-api.jar
2025-03-24T10:07:40.795+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-impl\2.3.1\jaxb-impl-2.3.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/jaxb-runtime-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/txw2-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/istack-commons-runtime-3.0.7.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/stax-ex-1.8.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/FastInfoset-1.2.15.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/javax.activation-api-1.2.0.jar
2025-03-24T10:07:40.796+05:30  INFO 7316 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-03-24T10:07:40.796+05:30  INFO 7316 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-03-24T10:07:42.424+05:30  INFO 7316 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T10:07:42.536+05:30  INFO 7316 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 106 ms. Found 13 JPA repository interfaces.
2025-03-24T10:07:43.579+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-24T10:07:43.590+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T10:07:43.590+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-03-24T10:07:43.672+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-24T10:07:43.672+05:30  INFO 7316 --- [PowerAlert] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2875 ms
2025-03-24T10:07:43.955+05:30  INFO 7316 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T10:07:44.241+05:30  INFO 7316 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@62d8dd2
2025-03-24T10:07:44.243+05:30  INFO 7316 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T10:07:44.251+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/poweralert?createDatabaseIfNotExist=true'
2025-03-24T10:07:44.326+05:30  INFO 7316 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.util.JwtUtil          : JWT signing key initialized with new random key
2025-03-24T10:07:44.518+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T10:07:44.579+05:30  INFO 7316 --- [PowerAlert] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-24T10:07:44.616+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T10:07:44.824+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T10:07:44.882+05:30  WARN 7316 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T10:07:44.884+05:30  WARN 7316 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-24T10:07:46.133+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T10:07:46.303+05:30  INFO 7316 --- [PowerAlert] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T10:07:46.741+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-24T10:07:47.192+05:30 DEBUG 7316 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.config.JwtFilter      : Filter 'jwtFilter' configured for use
2025-03-24T10:07:47.935+05:30  INFO 7316 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : Configuring FreeMarker
2025-03-24T10:07:47.936+05:30  INFO 7316 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : FreeMarker configured with template path: classpath:/templates/
2025-03-24T10:07:48.235+05:30  INFO 7316 --- [PowerAlert] [restartedMain] l.i.p.s.i.PushNotificationServiceImpl    : Push notification service is disabled
2025-03-24T10:07:48.594+05:30  INFO 7316 --- [PowerAlert] [restartedMain] l.i.p.service.impl.SmsServiceImpl        : SMS service is disabled or not fully configured
2025-03-24T10:07:49.630+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-03-24T10:07:49.678+05:30  INFO 7316 --- [PowerAlert] [restartedMain] l.ijse.poweralert.config.SecurityConfig  : Configuring SecurityFilterChain
2025-03-24T10:07:49.743+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@35b22fd1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d2ab331, org.springframework.security.web.context.SecurityContextHolderFilter@2bc95ac6, org.springframework.security.web.header.HeaderWriterFilter@6e1222e7, org.springframework.web.filter.CorsFilter@f3ca62c, org.springframework.security.web.authentication.logout.LogoutFilter@1c2626e9, lk.ijse.poweralert.config.JwtFilter@27217d11, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@140c6210, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1eb2330c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1860b1f5, org.springframework.security.web.session.SessionManagementFilter@4f798f66, org.springframework.security.web.access.ExceptionTranslationFilter@65c5f41, org.springframework.security.web.access.intercept.AuthorizationFilter@1526ba84]
2025-03-24T10:07:50.568+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-03-24T10:07:50.656+05:30  INFO 7316 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-03-24T10:07:50.671+05:30  INFO 7316 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Started PowerAlertApplication in 10.636 seconds (process running for 12.135)
2025-03-24T10:07:51.363+05:30  INFO 7316 --- [PowerAlert] [RMI TCP Connection(1)-192.168.1.26] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-24T10:07:51.363+05:30  INFO 7316 --- [PowerAlert] [RMI TCP Connection(1)-192.168.1.26] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-24T10:07:51.367+05:30  INFO 7316 --- [PowerAlert] [RMI TCP Connection(1)-192.168.1.26] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-03-24T10:08:00.466+05:30 DEBUG 7316 --- [PowerAlert] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-03-24T10:08:00.481+05:30 DEBUG 7316 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/login
2025-03-24T10:08:00.482+05:30 DEBUG 7316 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.config.JwtFilter      : Skipping JWT validation for excluded path: /api/auth/login
2025-03-24T10:08:00.485+05:30 DEBUG 7316 --- [PowerAlert] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T10:08:00.491+05:30 DEBUG 7316 --- [PowerAlert] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-03-24T10:08:00.590+05:30  INFO 7316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.controller.AdminController         : Login attempt for user: dilshancolonne123@gmail.com
2025-03-24T10:08:00.927+05:30  INFO 7316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: dilshancolonne123@gmail.com
2025-03-24T10:08:00.949+05:30 DEBUG 7316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.s.impl.CustomUserDetailsService    : User not found by username, trying email...
2025-03-24T10:08:00.976+05:30  INFO 7316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.s.impl.CustomUserDetailsService    : User found with role: USER
2025-03-24T10:08:01.388+05:30 DEBUG 7316 --- [PowerAlert] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-24T10:08:01.402+05:30  INFO 7316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Fetching basic info for user with username: Chamath
2025-03-24T10:08:01.402+05:30  INFO 7316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T10:08:01.448+05:30 DEBUG 7316 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.util.JwtUtil          : Generated token for user Chamath with role USER
2025-03-24T10:08:01.450+05:30  INFO 7316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Updating last login time for user with email: dilshancolonne123@gmail.com
2025-03-24T10:08:01.503+05:30  INFO 7316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T10:08:01.516+05:30  INFO 7316 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending login notification email to: dilshancolonne123@gmail.com
2025-03-24T10:08:01.670+05:30  INFO 7316 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: PowerAlert Security Alert: New Login
2025-03-24T10:08:01.671+05:30 DEBUG 7316 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T10:08:01.758+05:30 DEBUG 7316 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="widt...
2025-03-24T10:08:05.693+05:30  INFO 7316 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T10:09:17.550+05:30  INFO 7316 --- [PowerAlert] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T10:09:17.560+05:30  INFO 7316 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T10:09:17.581+05:30  INFO 7316 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T10:09:21.350+05:30  INFO 13192 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Starting PowerAlertApplication using Java 22.0.2 with PID 13192 (I:\Projects\PowerAlert\target\classes started by Chamath in I:\Projects\PowerAlert)
2025-03-24T10:09:21.352+05:30 DEBUG 13192 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-03-24T10:09:21.354+05:30  INFO 13192 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : No active profile set, falling back to 1 default profile: "default"
2025-03-24T10:09:21.424+05:30  INFO 13192 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-core\2.3.0.1\jaxb-core-2.3.0.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-api.jar
2025-03-24T10:09:21.425+05:30  INFO 13192 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-impl\2.3.1\jaxb-impl-2.3.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/jaxb-runtime-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/txw2-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/istack-commons-runtime-3.0.7.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/stax-ex-1.8.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/FastInfoset-1.2.15.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/javax.activation-api-1.2.0.jar
2025-03-24T10:09:21.426+05:30  INFO 13192 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-03-24T10:09:21.426+05:30  INFO 13192 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-03-24T10:09:22.945+05:30  INFO 13192 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T10:09:23.064+05:30  INFO 13192 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 112 ms. Found 13 JPA repository interfaces.
2025-03-24T10:09:24.177+05:30  INFO 13192 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-24T10:09:24.187+05:30  INFO 13192 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T10:09:24.188+05:30  INFO 13192 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-03-24T10:09:24.258+05:30  INFO 13192 --- [PowerAlert] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-24T10:09:24.259+05:30  INFO 13192 --- [PowerAlert] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2831 ms
2025-03-24T10:09:24.427+05:30  INFO 13192 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T10:09:24.707+05:30  INFO 13192 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@149fb2e7
2025-03-24T10:09:24.710+05:30  INFO 13192 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T10:09:24.721+05:30  INFO 13192 --- [PowerAlert] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/poweralert?createDatabaseIfNotExist=true'
2025-03-24T10:09:24.807+05:30  INFO 13192 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.util.JwtUtil          : JWT signing key initialized with new random key
2025-03-24T10:09:24.978+05:30  INFO 13192 --- [PowerAlert] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T10:09:25.050+05:30  INFO 13192 --- [PowerAlert] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-24T10:09:25.086+05:30  INFO 13192 --- [PowerAlert] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T10:09:25.312+05:30  INFO 13192 --- [PowerAlert] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T10:09:25.368+05:30  WARN 13192 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T10:09:25.369+05:30  WARN 13192 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-24T10:09:26.671+05:30  INFO 13192 --- [PowerAlert] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T10:09:26.837+05:30  INFO 13192 --- [PowerAlert] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T10:09:27.215+05:30  INFO 13192 --- [PowerAlert] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-24T10:09:27.664+05:30 DEBUG 13192 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.config.JwtFilter      : Filter 'jwtFilter' configured for use
2025-03-24T10:09:28.385+05:30  INFO 13192 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : Configuring FreeMarker
2025-03-24T10:09:28.386+05:30  INFO 13192 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : FreeMarker configured with template path: classpath:/templates/
2025-03-24T10:09:28.648+05:30  INFO 13192 --- [PowerAlert] [restartedMain] l.i.p.s.i.PushNotificationServiceImpl    : Push notification service is disabled
2025-03-24T10:09:28.912+05:30  INFO 13192 --- [PowerAlert] [restartedMain] l.i.p.service.impl.SmsServiceImpl        : SMS service is disabled or not fully configured
2025-03-24T10:09:29.842+05:30  INFO 13192 --- [PowerAlert] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-03-24T10:09:29.888+05:30  INFO 13192 --- [PowerAlert] [restartedMain] l.ijse.poweralert.config.SecurityConfig  : Configuring SecurityFilterChain
2025-03-24T10:09:29.977+05:30  INFO 13192 --- [PowerAlert] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58c3eb70, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d17d901, org.springframework.security.web.context.SecurityContextHolderFilter@1f07c44, org.springframework.security.web.header.HeaderWriterFilter@7b79aff0, org.springframework.web.filter.CorsFilter@7d77a98b, org.springframework.security.web.authentication.logout.LogoutFilter@7fea12f8, lk.ijse.poweralert.config.JwtFilter@61fe0bd8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ca26ec2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d240d03, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5dd73b8d, org.springframework.security.web.session.SessionManagementFilter@2b2da923, org.springframework.security.web.access.ExceptionTranslationFilter@4f798f66, org.springframework.security.web.access.intercept.AuthorizationFilter@7238ecfc]
2025-03-24T10:09:30.882+05:30  INFO 13192 --- [PowerAlert] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-03-24T10:09:30.974+05:30  INFO 13192 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-03-24T10:09:30.988+05:30  INFO 13192 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Started PowerAlertApplication in 10.273 seconds (process running for 11.439)
2025-03-24T10:09:31.693+05:30  INFO 13192 --- [PowerAlert] [RMI TCP Connection(2)-192.168.1.26] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-24T10:09:31.693+05:30  INFO 13192 --- [PowerAlert] [RMI TCP Connection(2)-192.168.1.26] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-24T10:09:31.697+05:30  INFO 13192 --- [PowerAlert] [RMI TCP Connection(2)-192.168.1.26] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-03-24T10:09:43.460+05:30 DEBUG 13192 --- [PowerAlert] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-03-24T10:09:43.471+05:30 DEBUG 13192 --- [PowerAlert] [http-nio-8080-exec-1] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/login
2025-03-24T10:09:43.472+05:30 DEBUG 13192 --- [PowerAlert] [http-nio-8080-exec-1] lk.ijse.poweralert.config.JwtFilter      : Skipping JWT validation for excluded path: /api/auth/login
2025-03-24T10:09:43.479+05:30 DEBUG 13192 --- [PowerAlert] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T10:09:43.487+05:30 DEBUG 13192 --- [PowerAlert] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-03-24T10:09:43.601+05:30  INFO 13192 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.controller.AdminController         : Login attempt for user: dilshancolonne123@gmail.com
2025-03-24T10:09:44.063+05:30  INFO 13192 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: dilshancolonne123@gmail.com
2025-03-24T10:09:44.117+05:30 DEBUG 13192 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.s.impl.CustomUserDetailsService    : User not found by username, trying email...
2025-03-24T10:09:44.161+05:30  INFO 13192 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.s.impl.CustomUserDetailsService    : User found with role: USER
2025-03-24T10:09:44.556+05:30 DEBUG 13192 --- [PowerAlert] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-24T10:09:44.564+05:30  INFO 13192 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Fetching basic info for user with username: Chamath
2025-03-24T10:09:44.564+05:30  INFO 13192 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T10:09:44.600+05:30 DEBUG 13192 --- [PowerAlert] [http-nio-8080-exec-1] lk.ijse.poweralert.util.JwtUtil          : Generated token for user Chamath with role USER
2025-03-24T10:09:44.601+05:30  INFO 13192 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Updating last login time for user with email: dilshancolonne123@gmail.com
2025-03-24T10:09:44.655+05:30  INFO 13192 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: Chamath
2025-03-24T10:09:44.667+05:30  INFO 13192 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending login notification email to: dilshancolonne123@gmail.com
2025-03-24T10:09:44.830+05:30  INFO 13192 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: PowerAlert Security Alert: New Login
2025-03-24T10:09:44.831+05:30 DEBUG 13192 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T10:09:44.885+05:30 DEBUG 13192 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="widt...
2025-03-24T10:09:49.187+05:30  INFO 13192 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T11:22:05.106+05:30 DEBUG 13192 --- [PowerAlert] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/provider/outages
2025-03-24T11:22:05.107+05:30 DEBUG 13192 --- [PowerAlert] [http-nio-8080-exec-5] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/provider/outages
2025-03-24T11:22:05.108+05:30 DEBUG 13192 --- [PowerAlert] [http-nio-8080-exec-5] lk.ijse.poweralert.config.JwtFilter      : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiVVNFUiIsInVzZXJJZCI6MiwiZW1haWwiOiJkaWxzaGFuY29sb25uZTEyM0BnbWFpbC5jb20iLCJzdWIiOiJDaGFtYXRoIiwiaWF0IjoxNzQyNzkxMTg0LCJleHAiOjE3NDM4Mjc5ODR9.O8Sv_7ywNY6PtarmRb6gAZyhPu96873wXp_jqbg3ShjGCREV6HjSLx4tnM0w48N4WGblV_kggRR_z_xaKSgCKQ
2025-03-24T11:22:05.126+05:30 DEBUG 13192 --- [PowerAlert] [http-nio-8080-exec-5] lk.ijse.poweralert.config.JwtFilter      : Extracted username from token: Chamath
2025-03-24T11:22:05.127+05:30  INFO 13192 --- [PowerAlert] [http-nio-8080-exec-5] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: Chamath
2025-03-24T11:22:05.135+05:30  INFO 13192 --- [PowerAlert] [http-nio-8080-exec-5] l.i.p.s.impl.CustomUserDetailsService    : User found with role: USER
2025-03-24T11:22:05.138+05:30 DEBUG 13192 --- [PowerAlert] [http-nio-8080-exec-5] lk.ijse.poweralert.config.JwtFilter      : Authentication set for user: Chamath with authorities: [ROLE_USER]
2025-03-24T11:22:05.144+05:30 DEBUG 13192 --- [PowerAlert] [http-nio-8080-exec-5] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-03-24T11:22:05.152+05:30 DEBUG 13192 --- [PowerAlert] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-03-24T11:22:05.153+05:30 DEBUG 13192 --- [PowerAlert] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T11:22:05.157+05:30 DEBUG 13192 --- [PowerAlert] [http-nio-8080-exec-5] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-03-24T11:22:10.304+05:30  INFO 13192 --- [PowerAlert] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T11:22:10.311+05:30  INFO 13192 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T11:22:10.332+05:30  INFO 13192 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T11:22:16.435+05:30  INFO 14696 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Starting PowerAlertApplication using Java 22.0.2 with PID 14696 (I:\Projects\PowerAlert\target\classes started by Chamath in I:\Projects\PowerAlert)
2025-03-24T11:22:16.437+05:30 DEBUG 14696 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-03-24T11:22:16.438+05:30  INFO 14696 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : No active profile set, falling back to 1 default profile: "default"
2025-03-24T11:22:16.509+05:30  INFO 14696 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-core\2.3.0.1\jaxb-core-2.3.0.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-api.jar
2025-03-24T11:22:16.510+05:30  INFO 14696 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-impl\2.3.1\jaxb-impl-2.3.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/jaxb-runtime-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/txw2-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/istack-commons-runtime-3.0.7.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/stax-ex-1.8.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/FastInfoset-1.2.15.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/javax.activation-api-1.2.0.jar
2025-03-24T11:22:16.511+05:30  INFO 14696 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-03-24T11:22:16.512+05:30  INFO 14696 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-03-24T11:22:18.371+05:30  INFO 14696 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T11:22:18.488+05:30  INFO 14696 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 109 ms. Found 13 JPA repository interfaces.
2025-03-24T11:22:19.607+05:30  INFO 14696 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-24T11:22:19.625+05:30  INFO 14696 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T11:22:19.626+05:30  INFO 14696 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-03-24T11:22:19.748+05:30  INFO 14696 --- [PowerAlert] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-24T11:22:19.749+05:30  INFO 14696 --- [PowerAlert] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3235 ms
2025-03-24T11:22:20.106+05:30  INFO 14696 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T11:22:20.459+05:30  INFO 14696 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3e0728b8
2025-03-24T11:22:20.472+05:30  INFO 14696 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T11:22:20.488+05:30  INFO 14696 --- [PowerAlert] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/poweralert?createDatabaseIfNotExist=true'
2025-03-24T11:22:20.626+05:30  INFO 14696 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.util.JwtUtil          : JWT signing key initialized with new random key
2025-03-24T11:22:21.081+05:30  INFO 14696 --- [PowerAlert] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T11:22:21.146+05:30  INFO 14696 --- [PowerAlert] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-24T11:22:21.185+05:30  INFO 14696 --- [PowerAlert] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T11:22:21.452+05:30  INFO 14696 --- [PowerAlert] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T11:22:21.519+05:30  WARN 14696 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T11:22:21.520+05:30  WARN 14696 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-24T11:22:23.273+05:30  INFO 14696 --- [PowerAlert] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T11:22:23.467+05:30  INFO 14696 --- [PowerAlert] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T11:22:23.889+05:30  INFO 14696 --- [PowerAlert] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-24T11:22:24.352+05:30 DEBUG 14696 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.config.JwtFilter      : Filter 'jwtFilter' configured for use
2025-03-24T11:22:25.110+05:30  INFO 14696 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : Configuring FreeMarker
2025-03-24T11:22:25.111+05:30  INFO 14696 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : FreeMarker configured with template path: classpath:/templates/
2025-03-24T11:22:25.383+05:30  INFO 14696 --- [PowerAlert] [restartedMain] l.i.p.s.i.PushNotificationServiceImpl    : Push notification service is disabled
2025-03-24T11:22:25.654+05:30  INFO 14696 --- [PowerAlert] [restartedMain] l.i.p.service.impl.SmsServiceImpl        : SMS service is disabled or not fully configured
2025-03-24T11:22:26.648+05:30  INFO 14696 --- [PowerAlert] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-03-24T11:22:26.695+05:30  INFO 14696 --- [PowerAlert] [restartedMain] l.ijse.poweralert.config.SecurityConfig  : Configuring SecurityFilterChain
2025-03-24T11:22:26.769+05:30  INFO 14696 --- [PowerAlert] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4a83f698, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b9fea50, org.springframework.security.web.context.SecurityContextHolderFilter@392f42f, org.springframework.security.web.header.HeaderWriterFilter@1ededaea, org.springframework.web.filter.CorsFilter@62f16bdb, org.springframework.security.web.authentication.logout.LogoutFilter@4a52a715, lk.ijse.poweralert.config.JwtFilter@31a7742b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2bfb3536, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a63933d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e40653a, org.springframework.security.web.session.SessionManagementFilter@435e1b5e, org.springframework.security.web.access.ExceptionTranslationFilter@5dc5c9, org.springframework.security.web.access.intercept.AuthorizationFilter@190a4060]
2025-03-24T11:22:27.555+05:30  INFO 14696 --- [PowerAlert] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-03-24T11:22:27.673+05:30  INFO 14696 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-03-24T11:22:27.698+05:30  INFO 14696 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Started PowerAlertApplication in 11.965 seconds (process running for 13.441)
2025-03-24T11:22:28.622+05:30  INFO 14696 --- [PowerAlert] [RMI TCP Connection(1)-192.168.1.26] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-24T11:22:28.623+05:30  INFO 14696 --- [PowerAlert] [RMI TCP Connection(1)-192.168.1.26] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-24T11:22:28.627+05:30  INFO 14696 --- [PowerAlert] [RMI TCP Connection(1)-192.168.1.26] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-03-24T11:22:30.696+05:30 DEBUG 14696 --- [PowerAlert] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-03-24T11:22:30.708+05:30 DEBUG 14696 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/login
2025-03-24T11:22:30.708+05:30 DEBUG 14696 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.config.JwtFilter      : Skipping JWT validation for excluded path: /api/auth/login
2025-03-24T11:22:30.711+05:30 DEBUG 14696 --- [PowerAlert] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T11:22:30.722+05:30 DEBUG 14696 --- [PowerAlert] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-03-24T11:22:30.889+05:30  INFO 14696 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.controller.AdminController         : Login attempt for user: admin@poweralert.lk
2025-03-24T11:22:31.292+05:30  INFO 14696 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: admin@poweralert.lk
2025-03-24T11:22:31.312+05:30 DEBUG 14696 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.s.impl.CustomUserDetailsService    : User not found by username, trying email...
2025-03-24T11:22:31.340+05:30  INFO 14696 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.s.impl.CustomUserDetailsService    : User found with role: ADMIN
2025-03-24T11:22:31.417+05:30 DEBUG 14696 --- [PowerAlert] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-24T11:22:31.424+05:30  INFO 14696 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Fetching basic info for user with username: admin
2025-03-24T11:22:31.425+05:30  INFO 14696 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: admin
2025-03-24T11:22:31.458+05:30 DEBUG 14696 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.util.JwtUtil          : Generated token for user admin with role ADMIN
2025-03-24T11:22:31.460+05:30  INFO 14696 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Updating last login time for user with email: admin@poweralert.lk
2025-03-24T11:22:31.520+05:30  INFO 14696 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: admin
2025-03-24T11:22:31.546+05:30  INFO 14696 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending login notification email to: admin@poweralert.lk
2025-03-24T11:22:31.694+05:30  INFO 14696 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending email to: admin@poweralert.lk, subject: PowerAlert Security Alert: New Login
2025-03-24T11:22:31.694+05:30 DEBUG 14696 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T11:22:31.736+05:30 DEBUG 14696 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="widt...
2025-03-24T11:22:35.481+05:30  INFO 14696 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: admin@poweralert.lk
2025-03-24T11:22:47.673+05:30 DEBUG 14696 --- [PowerAlert] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/provider/outages
2025-03-24T11:22:47.673+05:30 DEBUG 14696 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/provider/outages
2025-03-24T11:22:47.674+05:30 DEBUG 14696 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.config.JwtFilter      : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsImVtYWlsIjoiYWRtaW5AcG93ZXJhbGVydC5sayIsInN1YiI6ImFkbWluIiwiaWF0IjoxNzQyNzk1NTUxLCJleHAiOjE3NDM4MzIzNTF9.H1kZAz0XBqRrm43Ii6LAHemMWv6q6NU0wWHLyyhHMUB-18PS_uJ-Lhy6s9L__NRiJxYtlZIzxwEeVt5X8Zum-w
2025-03-24T11:22:47.693+05:30 DEBUG 14696 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.config.JwtFilter      : Extracted username from token: admin
2025-03-24T11:22:47.693+05:30  INFO 14696 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: admin
2025-03-24T11:22:47.699+05:30  INFO 14696 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.s.impl.CustomUserDetailsService    : User found with role: ADMIN
2025-03-24T11:22:47.705+05:30 DEBUG 14696 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.config.JwtFilter      : Authentication set for user: admin with authorities: [ROLE_ADMIN]
2025-03-24T11:22:47.710+05:30 DEBUG 14696 --- [PowerAlert] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/provider/outages
2025-03-24T11:22:47.742+05:30 DEBUG 14696 --- [PowerAlert] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity lk.ijse.poweralert.controller.OutageController.createOutage(lk.ijse.poweralert.dto.OutageCreateDTO); target is of class [lk.ijse.poweralert.controller.OutageController]
2025-03-24T11:22:47.757+05:30 DEBUG 14696 --- [PowerAlert] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity lk.ijse.poweralert.controller.OutageController.createOutage(lk.ijse.poweralert.dto.OutageCreateDTO); target is of class [lk.ijse.poweralert.controller.OutageController]
2025-03-24T11:22:47.759+05:30  INFO 14696 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.OutageServiceImpl     : Creating new outage of type: WATER
2025-03-24T11:22:47.789+05:30  INFO 14696 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.OutageServiceImpl     : Outage created with ID: 26
2025-03-24T11:22:47.793+05:30  INFO 14696 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.OutageServiceImpl     : Initial outage update recorded
2025-03-24T11:22:47.793+05:30  INFO 14696 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.s.impl.OutageHistoryServiceImpl    : Updating outage history for outage ID: 26
2025-03-24T11:22:47.809+05:30  INFO 14696 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.s.impl.OutageHistoryServiceImpl    : Updated outage history for area: Colombo Central District, type: WATER, month: 4, year: 2025
2025-03-24T11:22:47.809+05:30  INFO 14696 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.OutageServiceImpl     : Outage history updated for new outage ID: 26
2025-03-24T11:22:47.809+05:30  INFO 14696 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.OutageServiceImpl     : Sending notifications asynchronously for outage ID: 26
2025-03-24T11:22:47.810+05:30  INFO 14696 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.OutageServiceImpl     : Notifications sent successfully for outage ID: 26
2025-03-24T11:22:47.811+05:30  INFO 14696 --- [PowerAlert] [task-2] l.i.p.s.impl.NotificationServiceImpl     : Sending notifications for new outage ID: 26
2025-03-24T11:22:47.825+05:30  INFO 14696 --- [PowerAlert] [task-2] l.i.p.s.impl.NotificationServiceImpl     : Found 1 affected users for outage ID: 26
2025-03-24T11:22:47.840+05:30 DEBUG 14696 --- [PowerAlert] [task-2] l.i.p.s.impl.NotificationServiceImpl     : User 2 has no notification preferences, using defaults
2025-03-24T11:22:47.842+05:30 DEBUG 14696 --- [PowerAlert] [task-2] l.i.p.s.impl.NotificationServiceImpl     : Creating notification for user ID: 2 via EMAIL
2025-03-24T11:22:47.906+05:30  WARN 14696 --- [PowerAlert] [task-2] l.i.p.s.impl.NotificationServiceImpl     : Could not get email subject from resource bundle, using fallback: Can't find resource for bundle java.util.PropertyResourceBundle, key outage.email.subject
2025-03-24T11:22:47.939+05:30  INFO 14696 --- [PowerAlert] [task-3] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: WATER Outage Alert - Colombo Central District
2025-03-24T11:22:47.945+05:30 DEBUG 14696 --- [PowerAlert] [task-3] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T11:22:47.954+05:30 DEBUG 14696 --- [PowerAlert] [task-3] l.i.p.service.impl.EmailServiceImpl      : Email content preview: WATER outage scheduled in Colombo Central District from 2025-04-28 09:00 to 2025-05-10 15:00. Reason...
2025-03-24T11:22:51.506+05:30  INFO 14696 --- [PowerAlert] [task-3] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T11:38:49.354+05:30  INFO 14696 --- [PowerAlert] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T11:38:49.386+05:30  INFO 14696 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T11:38:49.485+05:30  INFO 14696 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T11:39:00.489+05:30  INFO 6088 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Starting PowerAlertApplication using Java 22.0.2 with PID 6088 (I:\Projects\PowerAlert\target\classes started by Chamath in I:\Projects\PowerAlert)
2025-03-24T11:39:00.491+05:30 DEBUG 6088 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-03-24T11:39:00.492+05:30  INFO 6088 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : No active profile set, falling back to 1 default profile: "default"
2025-03-24T11:39:00.566+05:30  INFO 6088 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-core\2.3.0.1\jaxb-core-2.3.0.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-api.jar
2025-03-24T11:39:00.566+05:30  INFO 6088 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-impl\2.3.1\jaxb-impl-2.3.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/jaxb-runtime-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/txw2-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/istack-commons-runtime-3.0.7.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/stax-ex-1.8.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/FastInfoset-1.2.15.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/javax.activation-api-1.2.0.jar
2025-03-24T11:39:00.566+05:30  INFO 6088 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-03-24T11:39:00.567+05:30  INFO 6088 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-03-24T11:39:02.281+05:30  INFO 6088 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T11:39:02.408+05:30  INFO 6088 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 119 ms. Found 13 JPA repository interfaces.
2025-03-24T11:39:03.633+05:30  INFO 6088 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-24T11:39:03.655+05:30  INFO 6088 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T11:39:03.656+05:30  INFO 6088 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-03-24T11:39:03.731+05:30  INFO 6088 --- [PowerAlert] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-24T11:39:03.732+05:30  INFO 6088 --- [PowerAlert] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3164 ms
2025-03-24T11:39:03.902+05:30  INFO 6088 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T11:39:04.204+05:30  INFO 6088 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5e65614
2025-03-24T11:39:04.206+05:30  INFO 6088 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T11:39:04.216+05:30  INFO 6088 --- [PowerAlert] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/poweralert?createDatabaseIfNotExist=true'
2025-03-24T11:39:04.300+05:30  INFO 6088 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.util.JwtUtil          : JWT signing key initialized with new random key
2025-03-24T11:39:04.532+05:30  INFO 6088 --- [PowerAlert] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T11:39:04.594+05:30  INFO 6088 --- [PowerAlert] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-24T11:39:04.636+05:30  INFO 6088 --- [PowerAlert] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T11:39:04.855+05:30  INFO 6088 --- [PowerAlert] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T11:39:04.915+05:30  WARN 6088 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T11:39:04.916+05:30  WARN 6088 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-24T11:39:06.338+05:30  INFO 6088 --- [PowerAlert] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T11:39:06.509+05:30  INFO 6088 --- [PowerAlert] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T11:39:06.906+05:30  INFO 6088 --- [PowerAlert] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-24T11:39:07.654+05:30 DEBUG 6088 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.config.JwtFilter      : Filter 'jwtFilter' configured for use
2025-03-24T11:39:08.830+05:30  INFO 6088 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : Configuring FreeMarker
2025-03-24T11:39:08.831+05:30  INFO 6088 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : FreeMarker configured with template path: classpath:/templates/
2025-03-24T11:39:09.244+05:30  INFO 6088 --- [PowerAlert] [restartedMain] l.i.p.s.i.PushNotificationServiceImpl    : Push notification service is disabled
2025-03-24T11:39:09.589+05:30  INFO 6088 --- [PowerAlert] [restartedMain] l.i.p.service.impl.SmsServiceImpl        : SMS service is disabled or not fully configured
2025-03-24T11:39:10.642+05:30  INFO 6088 --- [PowerAlert] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-03-24T11:39:10.701+05:30  INFO 6088 --- [PowerAlert] [restartedMain] l.ijse.poweralert.config.SecurityConfig  : Configuring SecurityFilterChain
2025-03-24T11:39:10.828+05:30  INFO 6088 --- [PowerAlert] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1954cebd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@592f17ed, org.springframework.security.web.context.SecurityContextHolderFilter@52b35b50, org.springframework.security.web.header.HeaderWriterFilter@2b791f34, org.springframework.web.filter.CorsFilter@3dc05416, org.springframework.security.web.authentication.logout.LogoutFilter@15604563, lk.ijse.poweralert.config.JwtFilter@5d285991, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@32789691, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6bfa00a6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@618de121, org.springframework.security.web.session.SessionManagementFilter@1f07c44, org.springframework.security.web.access.ExceptionTranslationFilter@2bc95ac6, org.springframework.security.web.access.intercept.AuthorizationFilter@3d17d901]
2025-03-24T11:39:12.504+05:30  INFO 6088 --- [PowerAlert] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-03-24T11:39:12.629+05:30  INFO 6088 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-03-24T11:39:12.656+05:30  INFO 6088 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Started PowerAlertApplication in 12.756 seconds (process running for 14.073)
2025-03-24T11:39:14.341+05:30  INFO 6088 --- [PowerAlert] [RMI TCP Connection(1)-192.168.1.26] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-24T11:39:14.342+05:30  INFO 6088 --- [PowerAlert] [RMI TCP Connection(1)-192.168.1.26] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-24T11:39:14.345+05:30  INFO 6088 --- [PowerAlert] [RMI TCP Connection(1)-192.168.1.26] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-03-24T11:42:16.729+05:30  INFO 6088 --- [PowerAlert] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T11:42:16.736+05:30  INFO 6088 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T11:42:16.753+05:30  INFO 6088 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T11:42:22.772+05:30  INFO 8280 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Starting PowerAlertApplication using Java 22.0.2 with PID 8280 (I:\Projects\PowerAlert\target\classes started by Chamath in I:\Projects\PowerAlert)
2025-03-24T11:42:22.774+05:30 DEBUG 8280 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-03-24T11:42:22.775+05:30  INFO 8280 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : No active profile set, falling back to 1 default profile: "default"
2025-03-24T11:42:22.842+05:30  INFO 8280 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-core\2.3.0.1\jaxb-core-2.3.0.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-api.jar
2025-03-24T11:42:22.843+05:30  INFO 8280 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-impl\2.3.1\jaxb-impl-2.3.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/jaxb-runtime-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/txw2-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/istack-commons-runtime-3.0.7.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/stax-ex-1.8.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/FastInfoset-1.2.15.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/javax.activation-api-1.2.0.jar
2025-03-24T11:42:22.843+05:30  INFO 8280 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-03-24T11:42:22.843+05:30  INFO 8280 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-03-24T11:42:26.203+05:30  INFO 8280 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T11:42:26.440+05:30  INFO 8280 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 215 ms. Found 13 JPA repository interfaces.
2025-03-24T11:42:27.778+05:30  INFO 8280 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-24T11:42:27.789+05:30  INFO 8280 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T11:42:27.790+05:30  INFO 8280 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-03-24T11:42:27.856+05:30  INFO 8280 --- [PowerAlert] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-24T11:42:27.856+05:30  INFO 8280 --- [PowerAlert] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5012 ms
2025-03-24T11:42:28.084+05:30  INFO 8280 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T11:42:28.597+05:30  INFO 8280 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1164d30d
2025-03-24T11:42:28.600+05:30  INFO 8280 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T11:42:28.610+05:30  INFO 8280 --- [PowerAlert] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/poweralert?createDatabaseIfNotExist=true'
2025-03-24T11:42:28.732+05:30  INFO 8280 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.util.JwtUtil          : JWT signing key initialized with new random key
2025-03-24T11:42:28.993+05:30  INFO 8280 --- [PowerAlert] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T11:42:29.048+05:30  INFO 8280 --- [PowerAlert] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-24T11:42:29.079+05:30  INFO 8280 --- [PowerAlert] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T11:42:29.308+05:30  INFO 8280 --- [PowerAlert] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T11:42:29.374+05:30  WARN 8280 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T11:42:29.375+05:30  WARN 8280 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-24T11:42:31.348+05:30  INFO 8280 --- [PowerAlert] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T11:42:31.597+05:30  INFO 8280 --- [PowerAlert] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T11:42:32.023+05:30  INFO 8280 --- [PowerAlert] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-24T11:42:32.489+05:30 DEBUG 8280 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.config.JwtFilter      : Filter 'jwtFilter' configured for use
2025-03-24T11:42:33.300+05:30  INFO 8280 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : Configuring FreeMarker
2025-03-24T11:42:33.301+05:30  INFO 8280 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : FreeMarker configured with template path: classpath:/templates/
2025-03-24T11:42:33.626+05:30  INFO 8280 --- [PowerAlert] [restartedMain] l.i.p.s.i.PushNotificationServiceImpl    : Push notification service is disabled
2025-03-24T11:42:33.955+05:30  INFO 8280 --- [PowerAlert] [restartedMain] l.i.p.service.impl.SmsServiceImpl        : SMS service is disabled or not fully configured
2025-03-24T11:42:34.881+05:30  INFO 8280 --- [PowerAlert] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-03-24T11:42:34.927+05:30  INFO 8280 --- [PowerAlert] [restartedMain] l.ijse.poweralert.config.SecurityConfig  : Configuring SecurityFilterChain
2025-03-24T11:42:35.016+05:30  INFO 8280 --- [PowerAlert] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7aa5c295, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3dfda6d0, org.springframework.security.web.context.SecurityContextHolderFilter@73be73dd, org.springframework.security.web.header.HeaderWriterFilter@65e66b24, org.springframework.web.filter.CorsFilter@5933e57f, org.springframework.security.web.authentication.logout.LogoutFilter@43542f1c, lk.ijse.poweralert.config.JwtFilter@3f72f362, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51f79e50, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5303732d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4cbf6ee9, org.springframework.security.web.session.SessionManagementFilter@ea7c25, org.springframework.security.web.access.ExceptionTranslationFilter@17d30197, org.springframework.security.web.access.intercept.AuthorizationFilter@46d1f533]
2025-03-24T11:42:35.856+05:30  INFO 8280 --- [PowerAlert] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-03-24T11:42:36.030+05:30  INFO 8280 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-03-24T11:42:36.055+05:30  INFO 8280 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Started PowerAlertApplication in 14.235 seconds (process running for 15.982)
2025-03-24T11:43:13.077+05:30  INFO 8280 --- [PowerAlert] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T11:43:13.081+05:30  INFO 8280 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T11:43:13.096+05:30  INFO 8280 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T11:43:17.448+05:30  INFO 9316 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Starting PowerAlertApplication using Java 22.0.2 with PID 9316 (I:\Projects\PowerAlert\target\classes started by Chamath in I:\Projects\PowerAlert)
2025-03-24T11:43:17.450+05:30 DEBUG 9316 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-03-24T11:43:17.452+05:30  INFO 9316 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : No active profile set, falling back to 1 default profile: "default"
2025-03-24T11:43:17.519+05:30  INFO 9316 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-core\2.3.0.1\jaxb-core-2.3.0.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-api.jar
2025-03-24T11:43:17.520+05:30  INFO 9316 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-impl\2.3.1\jaxb-impl-2.3.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/jaxb-runtime-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/txw2-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/istack-commons-runtime-3.0.7.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/stax-ex-1.8.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/FastInfoset-1.2.15.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/javax.activation-api-1.2.0.jar
2025-03-24T11:43:17.521+05:30  INFO 9316 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-03-24T11:43:17.522+05:30  INFO 9316 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-03-24T11:43:19.117+05:30  INFO 9316 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T11:43:19.234+05:30  INFO 9316 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 110 ms. Found 13 JPA repository interfaces.
2025-03-24T11:43:20.277+05:30  INFO 9316 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-24T11:43:20.288+05:30  INFO 9316 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T11:43:20.289+05:30  INFO 9316 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-03-24T11:43:20.358+05:30  INFO 9316 --- [PowerAlert] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-24T11:43:20.359+05:30  INFO 9316 --- [PowerAlert] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2836 ms
2025-03-24T11:43:20.539+05:30  INFO 9316 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T11:43:20.831+05:30  INFO 9316 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@a054024
2025-03-24T11:43:20.833+05:30  INFO 9316 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T11:43:20.843+05:30  INFO 9316 --- [PowerAlert] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/poweralert?createDatabaseIfNotExist=true'
2025-03-24T11:43:20.925+05:30  INFO 9316 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.util.JwtUtil          : JWT signing key initialized with new random key
2025-03-24T11:43:21.148+05:30  INFO 9316 --- [PowerAlert] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T11:43:21.208+05:30  INFO 9316 --- [PowerAlert] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-24T11:43:21.245+05:30  INFO 9316 --- [PowerAlert] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T11:43:21.445+05:30  INFO 9316 --- [PowerAlert] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T11:43:21.503+05:30  WARN 9316 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T11:43:21.505+05:30  WARN 9316 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-24T11:43:22.727+05:30  INFO 9316 --- [PowerAlert] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T11:43:22.902+05:30  INFO 9316 --- [PowerAlert] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T11:43:23.297+05:30  INFO 9316 --- [PowerAlert] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-24T11:43:23.741+05:30 DEBUG 9316 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.config.JwtFilter      : Filter 'jwtFilter' configured for use
2025-03-24T11:43:24.539+05:30  INFO 9316 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : Configuring FreeMarker
2025-03-24T11:43:24.540+05:30  INFO 9316 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : FreeMarker configured with template path: classpath:/templates/
2025-03-24T11:43:24.806+05:30  INFO 9316 --- [PowerAlert] [restartedMain] l.i.p.s.i.PushNotificationServiceImpl    : Push notification service is disabled
2025-03-24T11:43:25.069+05:30  INFO 9316 --- [PowerAlert] [restartedMain] l.i.p.service.impl.SmsServiceImpl        : SMS service is disabled or not fully configured
2025-03-24T11:43:25.938+05:30  INFO 9316 --- [PowerAlert] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-03-24T11:43:25.985+05:30  INFO 9316 --- [PowerAlert] [restartedMain] l.ijse.poweralert.config.SecurityConfig  : Configuring SecurityFilterChain
2025-03-24T11:43:26.055+05:30  INFO 9316 --- [PowerAlert] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@51b680e1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39df2fff, org.springframework.security.web.context.SecurityContextHolderFilter@323fba07, org.springframework.security.web.header.HeaderWriterFilter@6a5e0814, org.springframework.web.filter.CorsFilter@6d29a525, org.springframework.security.web.authentication.logout.LogoutFilter@5525449e, lk.ijse.poweralert.config.JwtFilter@7de8e410, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ed001ff, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4bdbb975, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58c3eb70, org.springframework.security.web.session.SessionManagementFilter@48fede16, org.springframework.security.web.access.ExceptionTranslationFilter@16f95adb, org.springframework.security.web.access.intercept.AuthorizationFilter@c15e715]
2025-03-24T11:43:26.889+05:30  INFO 9316 --- [PowerAlert] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-03-24T11:43:27.000+05:30  INFO 9316 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-03-24T11:43:27.016+05:30  INFO 9316 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Started PowerAlertApplication in 10.148 seconds (process running for 11.378)
2025-03-24T11:43:27.661+05:30  INFO 9316 --- [PowerAlert] [RMI TCP Connection(3)-192.168.1.26] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-24T11:43:27.661+05:30  INFO 9316 --- [PowerAlert] [RMI TCP Connection(3)-192.168.1.26] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-24T11:43:27.665+05:30  INFO 9316 --- [PowerAlert] [RMI TCP Connection(3)-192.168.1.26] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-03-24T11:43:39.421+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-03-24T11:43:39.432+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/login
2025-03-24T11:43:39.433+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.config.JwtFilter      : Skipping JWT validation for excluded path: /api/auth/login
2025-03-24T11:43:39.435+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T11:43:39.442+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-03-24T11:43:39.537+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.controller.AdminController         : Login attempt for user: admin@poweralert.lk
2025-03-24T11:43:39.881+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: admin@poweralert.lk
2025-03-24T11:43:39.907+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.s.impl.CustomUserDetailsService    : User not found by username, trying email...
2025-03-24T11:43:39.936+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.s.impl.CustomUserDetailsService    : User found with role: ADMIN
2025-03-24T11:43:40.012+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-24T11:43:40.020+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Fetching basic info for user with username: admin
2025-03-24T11:43:40.020+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: admin
2025-03-24T11:43:40.053+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.util.JwtUtil          : Generated token for user admin with role ADMIN
2025-03-24T11:43:40.054+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Updating last login time for user with email: admin@poweralert.lk
2025-03-24T11:43:40.126+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-2] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: admin
2025-03-24T11:43:40.149+05:30  INFO 9316 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending login notification email to: admin@poweralert.lk
2025-03-24T11:43:40.267+05:30  INFO 9316 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending email to: admin@poweralert.lk, subject: PowerAlert Security Alert: New Login
2025-03-24T11:43:40.267+05:30 DEBUG 9316 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T11:43:40.293+05:30 DEBUG 9316 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="widt...
2025-03-24T11:43:44.841+05:30  INFO 9316 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: admin@poweralert.lk
2025-03-24T11:44:19.683+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/provider/outages
2025-03-24T11:44:19.684+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/provider/outages
2025-03-24T11:44:19.684+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.config.JwtFilter      : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsImVtYWlsIjoiYWRtaW5AcG93ZXJhbGVydC5sayIsInN1YiI6ImFkbWluIiwiaWF0IjoxNzQyNzk2ODIwLCJleHAiOjE3NDM4MzM2MjB9.4CvOfMDcwPLZXR5Ethv1-ozEEdO3zABEMpe29Bxq6IlJb8uCxqhKdpWkKxb5ED9UwhPycy5G9UVbAabhXkJt4A
2025-03-24T11:44:19.700+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.config.JwtFilter      : Extracted username from token: admin
2025-03-24T11:44:19.700+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: admin
2025-03-24T11:44:19.706+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.s.impl.CustomUserDetailsService    : User found with role: ADMIN
2025-03-24T11:44:19.710+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-3] lk.ijse.poweralert.config.JwtFilter      : Authentication set for user: admin with authorities: [ROLE_ADMIN]
2025-03-24T11:44:19.713+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/provider/outages
2025-03-24T11:44:19.734+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity lk.ijse.poweralert.controller.OutageController.createOutage(lk.ijse.poweralert.dto.OutageCreateDTO); target is of class [lk.ijse.poweralert.controller.OutageController]
2025-03-24T11:44:19.743+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity lk.ijse.poweralert.controller.OutageController.createOutage(lk.ijse.poweralert.dto.OutageCreateDTO); target is of class [lk.ijse.poweralert.controller.OutageController]
2025-03-24T11:44:19.744+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.OutageServiceImpl     : Creating new outage of type: WATER
2025-03-24T11:44:19.772+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.OutageServiceImpl     : Outage created with ID: 27
2025-03-24T11:44:19.776+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.OutageServiceImpl     : Initial outage update recorded
2025-03-24T11:44:19.776+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.s.impl.OutageHistoryServiceImpl    : Updating outage history for outage ID: 27
2025-03-24T11:44:19.791+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.s.impl.OutageHistoryServiceImpl    : Updated outage history for area: Colombo Central District, type: WATER, month: 4, year: 2025
2025-03-24T11:44:19.791+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.OutageServiceImpl     : Outage history updated for new outage ID: 27
2025-03-24T11:44:19.792+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.OutageServiceImpl     : Sending notifications asynchronously for outage ID: 27
2025-03-24T11:44:19.793+05:30  INFO 9316 --- [PowerAlert] [task-2] l.i.p.s.impl.NotificationServiceImpl     : Sending notifications for new outage ID: 27
2025-03-24T11:44:19.805+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.OutageServiceImpl     : Found 1 affected users for outage ID: 27
2025-03-24T11:44:19.806+05:30  INFO 9316 --- [PowerAlert] [task-2] l.i.p.s.impl.NotificationServiceImpl     : Found 1 affected users for outage ID: 27
2025-03-24T11:44:19.808+05:30  INFO 9316 --- [PowerAlert] [task-3] l.i.p.service.impl.EmailServiceImpl      : Sending template email to: dilshancolonne123@gmail.com, subject: WATER Outage Alert - Colombo Central District, template: outage-notification
2025-03-24T11:44:19.815+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-3] l.i.p.service.impl.OutageServiceImpl     : Notifications sent successfully for outage ID: 27
2025-03-24T11:44:19.810+05:30 ERROR 9316 --- [PowerAlert] [task-3] l.i.p.service.impl.EmailServiceImpl      : Failed to load template 'outage-notification': Template not found for name "outage-notification".
The name was interpreted by this TemplateLoader: MultiTemplateLoader(loader1 = FileTemplateLoader(baseDir="I:\Projects\PowerAlert\target\classes\templates", canonicalBasePath="I:\Projects\PowerAlert\target\classes\templates\"), loader2 = ClassTemplateLoader(resourceLoaderClass=org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer, basePackagePath="" /* relatively to resourceLoaderClass pkg */)).

freemarker.template.TemplateNotFoundException: Template not found for name "outage-notification".
The name was interpreted by this TemplateLoader: MultiTemplateLoader(loader1 = FileTemplateLoader(baseDir="I:\Projects\PowerAlert\target\classes\templates", canonicalBasePath="I:\Projects\PowerAlert\target\classes\templates\"), loader2 = ClassTemplateLoader(resourceLoaderClass=org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer, basePackagePath="" /* relatively to resourceLoaderClass pkg */)).
	at freemarker.template.Configuration.getTemplate(Configuration.java:2957) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.template.Configuration.getTemplate(Configuration.java:2759) ~[freemarker-2.3.32.jar:2.3.32]
	at lk.ijse.poweralert.service.impl.EmailServiceImpl.sendTemplateEmail(EmailServiceImpl.java:149) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:113) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.util.concurrent.FutureUtils.lambda$toSupplier$0(FutureUtils.java:74) ~[spring-core-6.1.5.jar:6.1.5]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2025-03-24T11:44:19.822+05:30 DEBUG 9316 --- [PowerAlert] [task-2] l.i.p.s.impl.NotificationServiceImpl     : User 2 has no notification preferences, using defaults
2025-03-24T11:44:19.824+05:30 DEBUG 9316 --- [PowerAlert] [task-2] l.i.p.s.impl.NotificationServiceImpl     : Creating notification for user ID: 2 via EMAIL
2025-03-24T11:44:19.893+05:30  WARN 9316 --- [PowerAlert] [task-2] l.i.p.s.impl.NotificationServiceImpl     : Could not get email subject from resource bundle, using fallback: Can't find resource for bundle java.util.PropertyResourceBundle, key outage.email.subject
2025-03-24T11:44:19.919+05:30  INFO 9316 --- [PowerAlert] [task-4] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: WATER Outage Alert - Colombo Central District
2025-03-24T11:44:19.919+05:30 DEBUG 9316 --- [PowerAlert] [task-4] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T11:44:19.998+05:30 DEBUG 9316 --- [PowerAlert] [task-4] l.i.p.service.impl.EmailServiceImpl      : Email content preview: WATER outage scheduled in Colombo Central District from 2025-04-28 09:00 to 2025-05-10 15:00. Reason...
2025-03-24T11:44:20.026+05:30  INFO 9316 --- [PowerAlert] [task-3] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: WATER Outage Alert - Colombo Central District
2025-03-24T11:44:20.026+05:30 DEBUG 9316 --- [PowerAlert] [task-3] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T11:44:20.048+05:30 DEBUG 9316 --- [PowerAlert] [task-3] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" con...
2025-03-24T11:44:25.471+05:30  INFO 9316 --- [PowerAlert] [task-3] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T11:44:25.858+05:30  INFO 9316 --- [PowerAlert] [task-4] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T11:45:04.302+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /api/provider/outages/6
2025-03-24T11:45:04.303+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-4] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/provider/outages/6
2025-03-24T11:45:04.303+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-4] lk.ijse.poweralert.config.JwtFilter      : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsImVtYWlsIjoiYWRtaW5AcG93ZXJhbGVydC5sayIsInN1YiI6ImFkbWluIiwiaWF0IjoxNzQyNzk2ODIwLCJleHAiOjE3NDM4MzM2MjB9.4CvOfMDcwPLZXR5Ethv1-ozEEdO3zABEMpe29Bxq6IlJb8uCxqhKdpWkKxb5ED9UwhPycy5G9UVbAabhXkJt4A
2025-03-24T11:45:04.305+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-4] lk.ijse.poweralert.config.JwtFilter      : Extracted username from token: admin
2025-03-24T11:45:04.306+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-4] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: admin
2025-03-24T11:45:04.311+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-4] l.i.p.s.impl.CustomUserDetailsService    : User found with role: ADMIN
2025-03-24T11:45:04.316+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-4] lk.ijse.poweralert.config.JwtFilter      : Authentication set for user: admin with authorities: [ROLE_ADMIN]
2025-03-24T11:45:04.317+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /api/provider/outages/6
2025-03-24T11:45:04.321+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity lk.ijse.poweralert.controller.OutageController.updateOutage(java.lang.Long,lk.ijse.poweralert.dto.OutageCreateDTO); target is of class [lk.ijse.poweralert.controller.OutageController]
2025-03-24T11:45:04.321+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-4] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity lk.ijse.poweralert.controller.OutageController.updateOutage(java.lang.Long,lk.ijse.poweralert.dto.OutageCreateDTO); target is of class [lk.ijse.poweralert.controller.OutageController]
2025-03-24T11:45:04.323+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-4] l.i.p.service.impl.OutageServiceImpl     : Updating outage with ID: 6
2025-03-24T11:45:04.327+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-4] l.i.p.service.impl.OutageServiceImpl     : Outage updated with ID: 6
2025-03-24T11:45:04.327+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-4] l.i.p.s.impl.OutageHistoryServiceImpl    : Updating outage history for outage ID: 6
2025-03-24T11:45:04.332+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-4] l.i.p.s.impl.OutageHistoryServiceImpl    : Updated outage history for area: Colombo Central District, type: ELECTRICITY, month: 4, year: 2025
2025-03-24T11:45:04.332+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-4] l.i.p.service.impl.OutageServiceImpl     : Outage history updated for outage ID: 6
2025-03-24T11:45:04.333+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-4] l.i.p.service.impl.OutageServiceImpl     : Sending update notifications asynchronously for outage ID: 6
2025-03-24T11:45:04.334+05:30  INFO 9316 --- [PowerAlert] [task-5] l.i.p.s.impl.NotificationServiceImpl     : Sending notifications for updated outage ID: 6
2025-03-24T11:45:04.341+05:30  INFO 9316 --- [PowerAlert] [task-5] l.i.p.s.impl.NotificationServiceImpl     : Found 1 affected users for outage update ID: 6
2025-03-24T11:45:04.341+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-4] l.i.p.service.impl.OutageServiceImpl     : Found 1 affected users for outage update ID: 6
2025-03-24T11:45:04.346+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-4] l.i.p.service.impl.OutageServiceImpl     : Update notifications sent successfully for outage ID: 6
2025-03-24T11:45:04.354+05:30 DEBUG 9316 --- [PowerAlert] [task-5] l.i.p.s.impl.NotificationServiceImpl     : Creating notification for user ID: 2 via EMAIL
2025-03-24T11:45:04.349+05:30  INFO 9316 --- [PowerAlert] [task-6] l.i.p.service.impl.EmailServiceImpl      : Sending template email to: dilshancolonne123@gmail.com, subject: ELECTRICITY Outage Update - Colombo Central District, template: outage-update
2025-03-24T11:45:04.358+05:30 ERROR 9316 --- [PowerAlert] [task-6] l.i.p.service.impl.EmailServiceImpl      : Failed to load template 'outage-update': Template not found for name "outage-update".
The name was interpreted by this TemplateLoader: MultiTemplateLoader(loader1 = FileTemplateLoader(baseDir="I:\Projects\PowerAlert\target\classes\templates", canonicalBasePath="I:\Projects\PowerAlert\target\classes\templates\"), loader2 = ClassTemplateLoader(resourceLoaderClass=org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer, basePackagePath="" /* relatively to resourceLoaderClass pkg */)).

freemarker.template.TemplateNotFoundException: Template not found for name "outage-update".
The name was interpreted by this TemplateLoader: MultiTemplateLoader(loader1 = FileTemplateLoader(baseDir="I:\Projects\PowerAlert\target\classes\templates", canonicalBasePath="I:\Projects\PowerAlert\target\classes\templates\"), loader2 = ClassTemplateLoader(resourceLoaderClass=org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer, basePackagePath="" /* relatively to resourceLoaderClass pkg */)).
	at freemarker.template.Configuration.getTemplate(Configuration.java:2957) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.template.Configuration.getTemplate(Configuration.java:2759) ~[freemarker-2.3.32.jar:2.3.32]
	at lk.ijse.poweralert.service.impl.EmailServiceImpl.sendTemplateEmail(EmailServiceImpl.java:149) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:113) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.util.concurrent.FutureUtils.lambda$toSupplier$0(FutureUtils.java:74) ~[spring-core-6.1.5.jar:6.1.5]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2025-03-24T11:45:04.371+05:30  WARN 9316 --- [PowerAlert] [task-5] l.i.p.s.impl.NotificationServiceImpl     : Could not get email subject from resource bundle, using fallback: Can't find resource for bundle java.util.PropertyResourceBundle, key outage.email.subject
2025-03-24T11:45:04.411+05:30  INFO 9316 --- [PowerAlert] [task-7] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: ELECTRICITY Outage Alert - Colombo Central District
2025-03-24T11:45:04.412+05:30 DEBUG 9316 --- [PowerAlert] [task-7] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T11:45:04.420+05:30 DEBUG 9316 --- [PowerAlert] [task-7] l.i.p.service.impl.EmailServiceImpl      : Email content preview: {0} outage in {1} status updated to {2}. Estimated end time: {3}
2025-03-24T11:45:04.493+05:30  INFO 9316 --- [PowerAlert] [task-6] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: ELECTRICITY Outage Update - Colombo Central District
2025-03-24T11:45:04.494+05:30 DEBUG 9316 --- [PowerAlert] [task-6] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T11:45:04.497+05:30 DEBUG 9316 --- [PowerAlert] [task-6] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" con...
2025-03-24T11:45:08.014+05:30  INFO 9316 --- [PowerAlert] [task-7] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T11:45:08.360+05:30  INFO 9316 --- [PowerAlert] [task-6] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T11:46:11.145+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing PUT /api/admin/outages/8/cancel
2025-03-24T11:46:11.146+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-7] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/admin/outages/8/cancel
2025-03-24T11:46:11.146+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-7] lk.ijse.poweralert.config.JwtFilter      : Authorization header: Bearer eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsImVtYWlsIjoiYWRtaW5AcG93ZXJhbGVydC5sayIsInN1YiI6ImFkbWluIiwiaWF0IjoxNzQyMTE3MDM0LCJleHAiOjE3NDMxNTM4MzR9.jYRXZWu3MNe8hQF99DCpyF7gyhdGD2s6tKrNFfNq1cc
2025-03-24T11:46:11.149+05:30 ERROR 9316 --- [PowerAlert] [http-nio-8080-exec-7] lk.ijse.poweralert.config.JwtFilter      : Error extracting username from token: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.
2025-03-24T11:46:11.149+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T11:46:11.153+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-7] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-03-24T11:46:11.163+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing PUT /error
2025-03-24T11:46:11.164+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T11:46:11.164+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-7] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-03-24T11:46:18.843+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing PUT /api/admin/outages/8/cancel
2025-03-24T11:46:18.844+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-8] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/admin/outages/8/cancel
2025-03-24T11:46:18.844+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-8] lk.ijse.poweralert.config.JwtFilter      : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsImVtYWlsIjoiYWRtaW5AcG93ZXJhbGVydC5sayIsInN1YiI6ImFkbWluIiwiaWF0IjoxNzQyNzk2ODIwLCJleHAiOjE3NDM4MzM2MjB9.4CvOfMDcwPLZXR5Ethv1-ozEEdO3zABEMpe29Bxq6IlJb8uCxqhKdpWkKxb5ED9UwhPycy5G9UVbAabhXkJt4A
2025-03-24T11:46:18.846+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-8] lk.ijse.poweralert.config.JwtFilter      : Extracted username from token: admin
2025-03-24T11:46:18.846+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: admin
2025-03-24T11:46:18.851+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.s.impl.CustomUserDetailsService    : User found with role: ADMIN
2025-03-24T11:46:18.854+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-8] lk.ijse.poweralert.config.JwtFilter      : Authentication set for user: admin with authorities: [ROLE_ADMIN]
2025-03-24T11:46:18.856+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured PUT /api/admin/outages/8/cancel
2025-03-24T11:46:18.857+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity lk.ijse.poweralert.controller.OutageController.cancelOutage(java.lang.Long); target is of class [lk.ijse.poweralert.controller.OutageController]
2025-03-24T11:46:18.858+05:30 DEBUG 9316 --- [PowerAlert] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity lk.ijse.poweralert.controller.OutageController.cancelOutage(java.lang.Long); target is of class [lk.ijse.poweralert.controller.OutageController]
2025-03-24T11:46:18.860+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.service.impl.OutageServiceImpl     : Cancelling outage with ID: 8
2025-03-24T11:46:18.863+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.service.impl.OutageServiceImpl     : Outage cancelled with ID: 8
2025-03-24T11:46:18.865+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.service.impl.OutageServiceImpl     : Cancellation record created for outage ID: 8
2025-03-24T11:46:18.865+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.s.impl.OutageHistoryServiceImpl    : Updating outage history for outage ID: 8
2025-03-24T11:46:18.869+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.s.impl.OutageHistoryServiceImpl    : Updated outage history for area: Colombo Central District, type: GAS, month: 4, year: 2025
2025-03-24T11:46:18.869+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.service.impl.OutageServiceImpl     : Outage history updated for cancelled outage ID: 8
2025-03-24T11:46:18.869+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.service.impl.OutageServiceImpl     : Sending cancellation notifications asynchronously for outage ID: 8
2025-03-24T11:46:18.871+05:30  INFO 9316 --- [PowerAlert] [task-8] l.i.p.s.impl.NotificationServiceImpl     : Sending notifications for cancelled outage ID: 8
2025-03-24T11:46:18.876+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.service.impl.OutageServiceImpl     : Found 1 affected users for outage cancellation ID: 8
2025-03-24T11:46:18.878+05:30  INFO 9316 --- [PowerAlert] [task-8] l.i.p.s.impl.NotificationServiceImpl     : Found 1 affected users for outage cancellation ID: 8
2025-03-24T11:46:18.879+05:30  INFO 9316 --- [PowerAlert] [task-9] l.i.p.service.impl.EmailServiceImpl      : Sending template email to: dilshancolonne123@gmail.com, subject: GAS Outage Cancellation - Colombo Central District, template: outage-cancellation
2025-03-24T11:46:18.879+05:30  INFO 9316 --- [PowerAlert] [http-nio-8080-exec-8] l.i.p.service.impl.OutageServiceImpl     : Cancellation notifications sent successfully for outage ID: 8
2025-03-24T11:46:18.881+05:30 ERROR 9316 --- [PowerAlert] [task-9] l.i.p.service.impl.EmailServiceImpl      : Failed to load template 'outage-cancellation': Template not found for name "outage-cancellation".
The name was interpreted by this TemplateLoader: MultiTemplateLoader(loader1 = FileTemplateLoader(baseDir="I:\Projects\PowerAlert\target\classes\templates", canonicalBasePath="I:\Projects\PowerAlert\target\classes\templates\"), loader2 = ClassTemplateLoader(resourceLoaderClass=org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer, basePackagePath="" /* relatively to resourceLoaderClass pkg */)).

freemarker.template.TemplateNotFoundException: Template not found for name "outage-cancellation".
The name was interpreted by this TemplateLoader: MultiTemplateLoader(loader1 = FileTemplateLoader(baseDir="I:\Projects\PowerAlert\target\classes\templates", canonicalBasePath="I:\Projects\PowerAlert\target\classes\templates\"), loader2 = ClassTemplateLoader(resourceLoaderClass=org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer, basePackagePath="" /* relatively to resourceLoaderClass pkg */)).
	at freemarker.template.Configuration.getTemplate(Configuration.java:2957) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.template.Configuration.getTemplate(Configuration.java:2759) ~[freemarker-2.3.32.jar:2.3.32]
	at lk.ijse.poweralert.service.impl.EmailServiceImpl.sendTemplateEmail(EmailServiceImpl.java:149) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:113) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.util.concurrent.FutureUtils.lambda$toSupplier$0(FutureUtils.java:74) ~[spring-core-6.1.5.jar:6.1.5]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2025-03-24T11:46:18.888+05:30 DEBUG 9316 --- [PowerAlert] [task-8] l.i.p.s.impl.NotificationServiceImpl     : Creating notification for user ID: 2 via EMAIL
2025-03-24T11:46:18.898+05:30  WARN 9316 --- [PowerAlert] [task-8] l.i.p.s.impl.NotificationServiceImpl     : Could not get email subject from resource bundle, using fallback: Can't find resource for bundle java.util.PropertyResourceBundle, key outage.email.subject
2025-03-24T11:46:18.902+05:30  INFO 9316 --- [PowerAlert] [task-10] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: GAS Outage Alert - Colombo Central District
2025-03-24T11:46:18.902+05:30 DEBUG 9316 --- [PowerAlert] [task-10] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T11:46:18.913+05:30 DEBUG 9316 --- [PowerAlert] [task-10] l.i.p.service.impl.EmailServiceImpl      : Email content preview: {0} outage in {1} scheduled for {2} has been cancelled
2025-03-24T11:46:18.946+05:30 ERROR 9316 --- [PowerAlert] [task-9] freemarker.runtime                       : Error executing FreeMarker template

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> portalUrl  [in template "outage-cancellation.ftl" at line 181, column 20]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${portalUrl}  [in template "outage-cancellation.ftl" at line 181, column 18]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToTextualCommon(EvalUtil.java:481) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:401) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:370) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.visit(Environment.java:335) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.visit(Environment.java:341) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.process(Environment.java:314) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.template.Template.process(Template.java:383) ~[freemarker-2.3.32.jar:2.3.32]
	at org.springframework.ui.freemarker.FreeMarkerTemplateUtils.processTemplateIntoString(FreeMarkerTemplateUtils.java:50) ~[spring-context-support-6.1.5.jar:6.1.5]
	at lk.ijse.poweralert.service.impl.EmailServiceImpl.sendTemplateEmail(EmailServiceImpl.java:170) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:113) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.util.concurrent.FutureUtils.lambda$toSupplier$0(FutureUtils.java:74) ~[spring-core-6.1.5.jar:6.1.5]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2025-03-24T11:46:18.949+05:30 ERROR 9316 --- [PowerAlert] [task-9] l.i.p.service.impl.EmailServiceImpl      : Error processing template 'outage-cancellation': The following has evaluated to null or missing:
==> portalUrl  [in template "outage-cancellation.ftl" at line 181, column 20]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${portalUrl}  [in template "outage-cancellation.ftl" at line 181, column 18]
----

freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:
==> portalUrl  [in template "outage-cancellation.ftl" at line 181, column 20]

----
Tip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use <#if myOptionalVar??>when-present<#else>when-missing</#if>. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??
----

----
FTL stack trace ("~" means nesting-related):
	- Failed at: ${portalUrl}  [in template "outage-cancellation.ftl" at line 181, column 18]
----
	at freemarker.core.InvalidReferenceException.getInstance(InvalidReferenceException.java:134) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToTextualCommon(EvalUtil.java:481) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:401) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.EvalUtil.coerceModelToStringOrMarkup(EvalUtil.java:370) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.DollarVariable.calculateInterpolatedStringOrMarkup(DollarVariable.java:104) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.DollarVariable.accept(DollarVariable.java:63) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.visit(Environment.java:335) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.visit(Environment.java:341) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.core.Environment.process(Environment.java:314) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.template.Template.process(Template.java:383) ~[freemarker-2.3.32.jar:2.3.32]
	at org.springframework.ui.freemarker.FreeMarkerTemplateUtils.processTemplateIntoString(FreeMarkerTemplateUtils.java:50) ~[spring-context-support-6.1.5.jar:6.1.5]
	at lk.ijse.poweralert.service.impl.EmailServiceImpl.sendTemplateEmail(EmailServiceImpl.java:170) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:113) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.util.concurrent.FutureUtils.lambda$toSupplier$0(FutureUtils.java:74) ~[spring-core-6.1.5.jar:6.1.5]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2025-03-24T11:46:18.949+05:30  INFO 9316 --- [PowerAlert] [task-9] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: GAS Outage Cancellation - Colombo Central District
2025-03-24T11:46:18.949+05:30 DEBUG 9316 --- [PowerAlert] [task-9] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T11:46:18.953+05:30 DEBUG 9316 --- [PowerAlert] [task-9] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html><html><head><meta charset="UTF-8"><style>body { font-family: Arial, sans-serif; line-...
2025-03-24T11:46:24.956+05:30  INFO 9316 --- [PowerAlert] [task-9] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T11:46:27.653+05:30  INFO 9316 --- [PowerAlert] [task-10] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T12:07:09.747+05:30  INFO 9316 --- [PowerAlert] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T12:07:09.753+05:30  INFO 9316 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T12:07:09.766+05:30  INFO 9316 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T12:07:18.898+05:30  INFO 3424 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Starting PowerAlertApplication using Java 22.0.2 with PID 3424 (I:\Projects\PowerAlert\target\classes started by Chamath in I:\Projects\PowerAlert)
2025-03-24T12:07:18.899+05:30 DEBUG 3424 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-03-24T12:07:18.901+05:30  INFO 3424 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : No active profile set, falling back to 1 default profile: "default"
2025-03-24T12:07:18.969+05:30  INFO 3424 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-core\2.3.0.1\jaxb-core-2.3.0.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-api.jar
2025-03-24T12:07:18.969+05:30  INFO 3424 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-impl\2.3.1\jaxb-impl-2.3.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/jaxb-runtime-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/txw2-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/istack-commons-runtime-3.0.7.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/stax-ex-1.8.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/FastInfoset-1.2.15.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/javax.activation-api-1.2.0.jar
2025-03-24T12:07:18.970+05:30  INFO 3424 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-03-24T12:07:18.970+05:30  INFO 3424 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-03-24T12:07:20.697+05:30  INFO 3424 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T12:07:20.810+05:30  INFO 3424 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 105 ms. Found 13 JPA repository interfaces.
2025-03-24T12:07:21.955+05:30  INFO 3424 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-24T12:07:21.967+05:30  INFO 3424 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T12:07:21.967+05:30  INFO 3424 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-03-24T12:07:22.039+05:30  INFO 3424 --- [PowerAlert] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-24T12:07:22.039+05:30  INFO 3424 --- [PowerAlert] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3068 ms
2025-03-24T12:07:22.213+05:30  INFO 3424 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T12:07:22.556+05:30  INFO 3424 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@34f73be7
2025-03-24T12:07:22.558+05:30  INFO 3424 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T12:07:22.570+05:30  INFO 3424 --- [PowerAlert] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/poweralert?createDatabaseIfNotExist=true'
2025-03-24T12:07:22.650+05:30  INFO 3424 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.util.JwtUtil          : JWT signing key initialized with new random key
2025-03-24T12:07:22.849+05:30  INFO 3424 --- [PowerAlert] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T12:07:22.966+05:30  INFO 3424 --- [PowerAlert] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-24T12:07:23.017+05:30  INFO 3424 --- [PowerAlert] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T12:07:23.287+05:30  INFO 3424 --- [PowerAlert] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T12:07:23.348+05:30  WARN 3424 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T12:07:23.350+05:30  WARN 3424 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-24T12:07:24.726+05:30  INFO 3424 --- [PowerAlert] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T12:07:24.896+05:30  INFO 3424 --- [PowerAlert] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T12:07:25.332+05:30  INFO 3424 --- [PowerAlert] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-24T12:07:25.807+05:30 DEBUG 3424 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.config.JwtFilter      : Filter 'jwtFilter' configured for use
2025-03-24T12:07:26.445+05:30  INFO 3424 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : Configuring FreeMarker
2025-03-24T12:07:26.447+05:30  INFO 3424 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : FreeMarker configured with template path: classpath:/templates/
2025-03-24T12:07:26.555+05:30  INFO 3424 --- [PowerAlert] [restartedMain] l.i.p.s.i.PushNotificationServiceImpl    : Push notification service is disabled
2025-03-24T12:07:27.104+05:30  INFO 3424 --- [PowerAlert] [restartedMain] l.i.p.service.impl.SmsServiceImpl        : SMS service is disabled or not fully configured
2025-03-24T12:07:28.076+05:30  INFO 3424 --- [PowerAlert] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-03-24T12:07:28.129+05:30  INFO 3424 --- [PowerAlert] [restartedMain] l.ijse.poweralert.config.SecurityConfig  : Configuring SecurityFilterChain
2025-03-24T12:07:28.197+05:30  INFO 3424 --- [PowerAlert] [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2936cbe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4681eb1c, org.springframework.security.web.context.SecurityContextHolderFilter@6a6f4c40, org.springframework.security.web.header.HeaderWriterFilter@e8b0a48, org.springframework.web.filter.CorsFilter@56a85b70, org.springframework.security.web.authentication.logout.LogoutFilter@761a0f5e, lk.ijse.poweralert.config.JwtFilter@175efdd0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@9ba7715, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6017d9e4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c4de622, org.springframework.security.web.session.SessionManagementFilter@27372f5f, org.springframework.security.web.access.ExceptionTranslationFilter@257e9495, org.springframework.security.web.access.intercept.AuthorizationFilter@6324c367]
2025-03-24T12:07:29.083+05:30  INFO 3424 --- [PowerAlert] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-03-24T12:07:29.176+05:30  INFO 3424 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-03-24T12:07:29.199+05:30  INFO 3424 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Started PowerAlertApplication in 10.916 seconds (process running for 12.257)
2025-03-24T12:07:29.205+05:30  INFO 3424 --- [PowerAlert] [scheduling-1] l.i.poweralert.job.NotificationRetryJob  : Starting job to retry failed notifications
2025-03-24T12:07:29.377+05:30  INFO 3424 --- [PowerAlert] [scheduling-1] l.i.poweralert.job.NotificationRetryJob  : Found 0 failed notifications to retry
2025-03-24T12:07:29.378+05:30  INFO 3424 --- [PowerAlert] [scheduling-1] l.i.poweralert.job.NotificationRetryJob  : Completed job to retry failed notifications
2025-03-24T12:07:30.228+05:30  INFO 3424 --- [PowerAlert] [RMI TCP Connection(2)-192.168.1.26] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-24T12:07:30.228+05:30  INFO 3424 --- [PowerAlert] [RMI TCP Connection(2)-192.168.1.26] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-24T12:07:30.233+05:30  INFO 3424 --- [PowerAlert] [RMI TCP Connection(2)-192.168.1.26] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-03-24T12:09:36.650+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/test/test-advance-notice
2025-03-24T12:09:36.665+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/admin/test/test-advance-notice
2025-03-24T12:09:36.666+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.config.JwtFilter      : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsImVtYWlsIjoiYWRtaW5AcG93ZXJhbGVydC5sayIsInN1YiI6ImFkbWluIiwiaWF0IjoxNzQyNjU2NTY1LCJleHAiOjE3NDM2OTMzNjV9.Zh8iGGCN0gD8cy8ttXBC5XWEaitauxUuQML5AjisYr70ct-_mO_d_WXJ6Ph1v8KFkyAb3mb3YsX_0oKV_2XaEA
2025-03-24T12:09:36.721+05:30 ERROR 3424 --- [PowerAlert] [http-nio-8080-exec-2] lk.ijse.poweralert.config.JwtFilter      : Error extracting username from token: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.
2025-03-24T12:09:36.726+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T12:09:36.742+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-03-24T12:09:36.753+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-03-24T12:09:36.754+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T12:09:36.755+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-03-24T12:09:40.730+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-03-24T12:09:40.732+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-1] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/auth/login
2025-03-24T12:09:40.732+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-1] lk.ijse.poweralert.config.JwtFilter      : Skipping JWT validation for excluded path: /api/auth/login
2025-03-24T12:09:40.732+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-03-24T12:09:40.736+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-03-24T12:09:40.885+05:30  INFO 3424 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.controller.AdminController         : Login attempt for user: admin@poweralert.lk
2025-03-24T12:09:41.286+05:30  INFO 3424 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: admin@poweralert.lk
2025-03-24T12:09:41.307+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.s.impl.CustomUserDetailsService    : User not found by username, trying email...
2025-03-24T12:09:41.344+05:30  INFO 3424 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.s.impl.CustomUserDetailsService    : User found with role: ADMIN
2025-03-24T12:09:41.427+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-03-24T12:09:41.441+05:30  INFO 3424 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Fetching basic info for user with username: admin
2025-03-24T12:09:41.442+05:30  INFO 3424 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: admin
2025-03-24T12:09:41.463+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-1] lk.ijse.poweralert.util.JwtUtil          : Generated token for user admin with role ADMIN
2025-03-24T12:09:41.464+05:30  INFO 3424 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Updating last login time for user with email: admin@poweralert.lk
2025-03-24T12:09:41.540+05:30  INFO 3424 --- [PowerAlert] [http-nio-8080-exec-1] l.i.p.service.impl.UserServiceImpl       : Fetching user entity with username: admin
2025-03-24T12:09:41.555+05:30  INFO 3424 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending login notification email to: admin@poweralert.lk
2025-03-24T12:09:41.676+05:30  INFO 3424 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Sending email to: admin@poweralert.lk, subject: PowerAlert Security Alert: New Login
2025-03-24T12:09:41.676+05:30 DEBUG 3424 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T12:09:41.721+05:30 DEBUG 3424 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="widt...
2025-03-24T12:09:45.812+05:30  INFO 3424 --- [PowerAlert] [task-1] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: admin@poweralert.lk
2025-03-24T12:10:04.669+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/test/test-advance-notice
2025-03-24T12:10:04.670+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-4] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/admin/test/test-advance-notice
2025-03-24T12:10:04.670+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-4] lk.ijse.poweralert.config.JwtFilter      : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsImVtYWlsIjoiYWRtaW5AcG93ZXJhbGVydC5sayIsInN1YiI6ImFkbWluIiwiaWF0IjoxNzQyNzk4MzgxLCJleHAiOjE3NDM4MzUxODF9.s_3ZOtt3JIOjgn6_lwwP9FT2dDuuQ28Qf4Lo2Um0ds3YfIyrx3O60S1fdBQNtTsTVpGzlgUM7uLyo9vvl9bkjw
2025-03-24T12:10:04.677+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-4] lk.ijse.poweralert.config.JwtFilter      : Extracted username from token: admin
2025-03-24T12:10:04.677+05:30  INFO 3424 --- [PowerAlert] [http-nio-8080-exec-4] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: admin
2025-03-24T12:10:04.685+05:30  INFO 3424 --- [PowerAlert] [http-nio-8080-exec-4] l.i.p.s.impl.CustomUserDetailsService    : User found with role: ADMIN
2025-03-24T12:10:04.692+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-4] lk.ijse.poweralert.config.JwtFilter      : Authentication set for user: admin with authorities: [ROLE_ADMIN]
2025-03-24T12:10:04.694+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/test/test-advance-notice
2025-03-24T12:10:04.706+05:30  WARN 3424 --- [PowerAlert] [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'to' for method parameter type String is not present]
2025-03-24T12:11:25.147+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/test/test-advance-notice?to=dilshancolonne123@gmail.com
2025-03-24T12:11:25.148+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-5] lk.ijse.poweralert.config.JwtFilter      : Request path: /api/admin/test/test-advance-notice
2025-03-24T12:11:25.148+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-5] lk.ijse.poweralert.config.JwtFilter      : Authorization header: Bearer eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiQURNSU4iLCJ1c2VySWQiOjEsImVtYWlsIjoiYWRtaW5AcG93ZXJhbGVydC5sayIsInN1YiI6ImFkbWluIiwiaWF0IjoxNzQyNzk4MzgxLCJleHAiOjE3NDM4MzUxODF9.s_3ZOtt3JIOjgn6_lwwP9FT2dDuuQ28Qf4Lo2Um0ds3YfIyrx3O60S1fdBQNtTsTVpGzlgUM7uLyo9vvl9bkjw
2025-03-24T12:11:25.152+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-5] lk.ijse.poweralert.config.JwtFilter      : Extracted username from token: admin
2025-03-24T12:11:25.152+05:30  INFO 3424 --- [PowerAlert] [http-nio-8080-exec-5] l.i.p.s.impl.CustomUserDetailsService    : Loading user by username/email: admin
2025-03-24T12:11:25.162+05:30  INFO 3424 --- [PowerAlert] [http-nio-8080-exec-5] l.i.p.s.impl.CustomUserDetailsService    : User found with role: ADMIN
2025-03-24T12:11:25.166+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-5] lk.ijse.poweralert.config.JwtFilter      : Authentication set for user: admin with authorities: [ROLE_ADMIN]
2025-03-24T12:11:25.167+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/test/test-advance-notice?to=dilshancolonne123@gmail.com
2025-03-24T12:11:25.179+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity lk.ijse.poweralert.controller.test.TestController.testAdvanceNoticeEmail(java.lang.String,java.lang.String,int); target is of class [lk.ijse.poweralert.controller.test.TestController]
2025-03-24T12:11:25.190+05:30 DEBUG 3424 --- [PowerAlert] [http-nio-8080-exec-5] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity lk.ijse.poweralert.controller.test.TestController.testAdvanceNoticeEmail(java.lang.String,java.lang.String,int); target is of class [lk.ijse.poweralert.controller.test.TestController]
2025-03-24T12:11:25.191+05:30  INFO 3424 --- [PowerAlert] [http-nio-8080-exec-5] l.i.p.controller.test.TestController     : Testing advance notice email to: dilshancolonne123@gmail.com
2025-03-24T12:11:25.193+05:30  INFO 3424 --- [PowerAlert] [task-2] l.i.p.service.impl.EmailServiceImpl      : Sending template email to: dilshancolonne123@gmail.com, subject: Advance Notice: ELECTRICITY Outage in Test District, template: outage-advance-notice
2025-03-24T12:11:25.203+05:30 ERROR 3424 --- [PowerAlert] [task-2] l.i.p.service.impl.EmailServiceImpl      : Failed to load template 'outage-advance-notice': Template not found for name "outage-advance-notice".
The name was interpreted by this TemplateLoader: MultiTemplateLoader(loader1 = FileTemplateLoader(baseDir="I:\Projects\PowerAlert\target\classes\templates", canonicalBasePath="I:\Projects\PowerAlert\target\classes\templates\"), loader2 = ClassTemplateLoader(resourceLoaderClass=org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer, basePackagePath="" /* relatively to resourceLoaderClass pkg */)).

freemarker.template.TemplateNotFoundException: Template not found for name "outage-advance-notice".
The name was interpreted by this TemplateLoader: MultiTemplateLoader(loader1 = FileTemplateLoader(baseDir="I:\Projects\PowerAlert\target\classes\templates", canonicalBasePath="I:\Projects\PowerAlert\target\classes\templates\"), loader2 = ClassTemplateLoader(resourceLoaderClass=org.springframework.web.servlet.view.freemarker.FreeMarkerConfigurer, basePackagePath="" /* relatively to resourceLoaderClass pkg */)).
	at freemarker.template.Configuration.getTemplate(Configuration.java:2957) ~[freemarker-2.3.32.jar:2.3.32]
	at freemarker.template.Configuration.getTemplate(Configuration.java:2759) ~[freemarker-2.3.32.jar:2.3.32]
	at lk.ijse.poweralert.service.impl.EmailServiceImpl.sendTemplateEmail(EmailServiceImpl.java:149) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:351) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:113) ~[spring-aop-6.1.5.jar:6.1.5]
	at org.springframework.util.concurrent.FutureUtils.lambda$toSupplier$0(FutureUtils.java:74) ~[spring-core-6.1.5.jar:6.1.5]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1570) ~[na:na]

2025-03-24T12:11:25.425+05:30  INFO 3424 --- [PowerAlert] [task-2] l.i.p.service.impl.EmailServiceImpl      : Sending email to: dilshancolonne123@gmail.com, subject: Advance Notice: ELECTRICITY Outage in Test District
2025-03-24T12:11:25.426+05:30 DEBUG 3424 --- [PowerAlert] [task-2] l.i.p.service.impl.EmailServiceImpl      : From email: alerts.poweralert@gmail.com
2025-03-24T12:11:25.433+05:30 DEBUG 3424 --- [PowerAlert] [task-2] l.i.p.service.impl.EmailServiceImpl      : Email content preview: <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" con...
2025-03-24T12:11:30.590+05:30  INFO 3424 --- [PowerAlert] [task-2] l.i.p.service.impl.EmailServiceImpl      : Email sent successfully to: dilshancolonne123@gmail.com
2025-03-24T12:12:29.207+05:30  INFO 3424 --- [PowerAlert] [scheduling-1] l.i.poweralert.job.NotificationRetryJob  : Starting job to retry failed notifications
2025-03-24T12:12:29.211+05:30  INFO 3424 --- [PowerAlert] [scheduling-1] l.i.poweralert.job.NotificationRetryJob  : Found 0 failed notifications to retry
2025-03-24T12:12:29.211+05:30  INFO 3424 --- [PowerAlert] [scheduling-1] l.i.poweralert.job.NotificationRetryJob  : Completed job to retry failed notifications
2025-03-24T12:15:12.919+05:30  INFO 3424 --- [PowerAlert] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T12:15:12.922+05:30  INFO 3424 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T12:15:12.931+05:30  INFO 3424 --- [PowerAlert] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T20:49:09.860+05:30  INFO 7408 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Starting PowerAlertApplication using Java 22.0.2 with PID 7408 (I:\Projects\PowerAlert\target\classes started by Chamath in I:\Projects\PowerAlert)
2025-03-24T20:49:09.863+05:30 DEBUG 7408 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : Running with Spring Boot v3.2.4, Spring v6.1.5
2025-03-24T20:49:09.872+05:30  INFO 7408 --- [PowerAlert] [restartedMain] l.ijse.poweralert.PowerAlertApplication  : No active profile set, falling back to 1 default profile: "default"
2025-03-24T20:49:10.022+05:30  INFO 7408 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-core\2.3.0.1\jaxb-core-2.3.0.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-core/2.3.0.1/jaxb-api.jar
2025-03-24T20:49:10.022+05:30  INFO 7408 --- [PowerAlert] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\dilsh\.m2\repository\com\sun\xml\bind\jaxb-impl\2.3.1\jaxb-impl-2.3.1.jar referenced one or more files that do not exist: file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/jaxb-runtime-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/txw2-2.3.1.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/istack-commons-runtime-3.0.7.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/stax-ex-1.8.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/FastInfoset-1.2.15.jar,file:/C:/Users/dilsh/.m2/repository/com/sun/xml/bind/jaxb-impl/2.3.1/javax.activation-api-1.2.0.jar
2025-03-24T20:49:10.022+05:30  INFO 7408 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-03-24T20:49:10.023+05:30  INFO 7408 --- [PowerAlert] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-03-24T20:49:13.620+05:30  INFO 7408 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T20:49:13.773+05:30  INFO 7408 --- [PowerAlert] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 145 ms. Found 14 JPA repository interfaces.
2025-03-24T20:49:15.692+05:30  INFO 7408 --- [PowerAlert] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-24T20:49:15.709+05:30  INFO 7408 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T20:49:15.711+05:30  INFO 7408 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-03-24T20:49:15.812+05:30  INFO 7408 --- [PowerAlert] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-24T20:49:15.812+05:30  INFO 7408 --- [PowerAlert] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5788 ms
2025-03-24T20:49:16.106+05:30  INFO 7408 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T20:49:16.755+05:30  INFO 7408 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@74c80b0d
2025-03-24T20:49:16.758+05:30  INFO 7408 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T20:49:16.771+05:30  INFO 7408 --- [PowerAlert] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:mysql://localhost:3306/poweralert?createDatabaseIfNotExist=true'
2025-03-24T20:49:16.873+05:30  INFO 7408 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.util.JwtUtil          : JWT signing key initialized with new random key
2025-03-24T20:49:17.186+05:30  INFO 7408 --- [PowerAlert] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T20:49:17.300+05:30  INFO 7408 --- [PowerAlert] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.4.4.Final
2025-03-24T20:49:17.355+05:30  INFO 7408 --- [PowerAlert] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T20:49:17.666+05:30  INFO 7408 --- [PowerAlert] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T20:49:17.769+05:30  WARN 7408 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T20:49:17.770+05:30  WARN 7408 --- [PowerAlert] [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-03-24T20:49:19.363+05:30  INFO 7408 --- [PowerAlert] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T20:49:20.124+05:30  INFO 7408 --- [PowerAlert] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T20:49:22.105+05:30  INFO 7408 --- [PowerAlert] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-24T20:49:23.316+05:30 DEBUG 7408 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.config.JwtFilter      : Filter 'jwtFilter' configured for use
2025-03-24T20:49:23.648+05:30  INFO 7408 --- [PowerAlert] [restartedMain] lk.ijse.poweralert.config.MapboxConfig   : Mapbox configuration initialized with default map size: 800x600
2025-03-24T20:49:24.151+05:30  INFO 7408 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : Configuring FreeMarker
2025-03-24T20:49:24.153+05:30  INFO 7408 --- [PowerAlert] [restartedMain] l.i.poweralert.config.FreemarkerConfig   : FreeMarker configured with template path: classpath:/templates/
2025-03-24T20:49:24.326+05:30  INFO 7408 --- [PowerAlert] [restartedMain] l.i.p.s.i.PushNotificationServiceImpl    : Push notification service is disabled
2025-03-24T20:49:24.970+05:30  WARN 7408 --- [PowerAlert] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'outageGeospatialController': Unsatisfied dependency expressed through field 'outageGeospatialService': Error creating bean with name 'outageGeospatialServiceImpl': Unsatisfied dependency expressed through field 'outageGeospatialRepository': Error creating bean with name 'outageGeospatialRepository' defined in lk.ijse.poweralert.repository.OutageGeospatialRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean lk.ijse.poweralert.repository.OutageGeospatialRepository.existsByOutageIdAndUserIdAndTypeAndStatus(java.lang.Long,java.lang.Long,lk.ijse.poweralert.enums.AppEnums$NotificationType,lk.ijse.poweralert.enums.AppEnums$NotificationStatus); Reason: Failed to create query for method public abstract boolean lk.ijse.poweralert.repository.OutageGeospatialRepository.existsByOutageIdAndUserIdAndTypeAndStatus(java.lang.Long,java.lang.Long,lk.ijse.poweralert.enums.AppEnums$NotificationType,lk.ijse.poweralert.enums.AppEnums$NotificationStatus); No property 'userId' found for type 'OutageGeospatialData'
2025-03-24T20:49:24.972+05:30  INFO 7408 --- [PowerAlert] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T20:49:24.977+05:30  INFO 7408 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T20:49:24.986+05:30  INFO 7408 --- [PowerAlert] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T20:49:24.989+05:30  INFO 7408 --- [PowerAlert] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-03-24T20:49:25.011+05:30  INFO 7408 --- [PowerAlert] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-24T20:49:25.036+05:30 ERROR 7408 --- [PowerAlert] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'outageGeospatialController': Unsatisfied dependency expressed through field 'outageGeospatialService': Error creating bean with name 'outageGeospatialServiceImpl': Unsatisfied dependency expressed through field 'outageGeospatialRepository': Error creating bean with name 'outageGeospatialRepository' defined in lk.ijse.poweralert.repository.OutageGeospatialRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean lk.ijse.poweralert.repository.OutageGeospatialRepository.existsByOutageIdAndUserIdAndTypeAndStatus(java.lang.Long,java.lang.Long,lk.ijse.poweralert.enums.AppEnums$NotificationType,lk.ijse.poweralert.enums.AppEnums$NotificationStatus); Reason: Failed to create query for method public abstract boolean lk.ijse.poweralert.repository.OutageGeospatialRepository.existsByOutageIdAndUserIdAndTypeAndStatus(java.lang.Long,java.lang.Long,lk.ijse.poweralert.enums.AppEnums$NotificationType,lk.ijse.poweralert.enums.AppEnums$NotificationStatus); No property 'userId' found for type 'OutageGeospatialData'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1419) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.5.jar:6.1.5]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.5.jar:6.1.5]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.4.jar:3.2.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.4.jar:3.2.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.4.jar:3.2.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.4.jar:3.2.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.4.jar:3.2.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.4.jar:3.2.4]
	at lk.ijse.poweralert.PowerAlertApplication.main(PowerAlertApplication.java:12) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.4.jar:3.2.4]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'outageGeospatialServiceImpl': Unsatisfied dependency expressed through field 'outageGeospatialRepository': Error creating bean with name 'outageGeospatialRepository' defined in lk.ijse.poweralert.repository.OutageGeospatialRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean lk.ijse.poweralert.repository.OutageGeospatialRepository.existsByOutageIdAndUserIdAndTypeAndStatus(java.lang.Long,java.lang.Long,lk.ijse.poweralert.enums.AppEnums$NotificationType,lk.ijse.poweralert.enums.AppEnums$NotificationStatus); Reason: Failed to create query for method public abstract boolean lk.ijse.poweralert.repository.OutageGeospatialRepository.existsByOutageIdAndUserIdAndTypeAndStatus(java.lang.Long,java.lang.Long,lk.ijse.poweralert.enums.AppEnums$NotificationType,lk.ijse.poweralert.enums.AppEnums$NotificationStatus); No property 'userId' found for type 'OutageGeospatialData'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:787) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:767) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:508) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1419) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784) ~[spring-beans-6.1.5.jar:6.1.5]
	... 23 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'outageGeospatialRepository' defined in lk.ijse.poweralert.repository.OutageGeospatialRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract boolean lk.ijse.poweralert.repository.OutageGeospatialRepository.existsByOutageIdAndUserIdAndTypeAndStatus(java.lang.Long,java.lang.Long,lk.ijse.poweralert.enums.AppEnums$NotificationType,lk.ijse.poweralert.enums.AppEnums$NotificationStatus); Reason: Failed to create query for method public abstract boolean lk.ijse.poweralert.repository.OutageGeospatialRepository.existsByOutageIdAndUserIdAndTypeAndStatus(java.lang.Long,java.lang.Long,lk.ijse.poweralert.enums.AppEnums$NotificationType,lk.ijse.poweralert.enums.AppEnums$NotificationStatus); No property 'userId' found for type 'OutageGeospatialData'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:784) ~[spring-beans-6.1.5.jar:6.1.5]
	... 37 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract boolean lk.ijse.poweralert.repository.OutageGeospatialRepository.existsByOutageIdAndUserIdAndTypeAndStatus(java.lang.Long,java.lang.Long,lk.ijse.poweralert.enums.AppEnums$NotificationType,lk.ijse.poweralert.enums.AppEnums$NotificationStatus); Reason: Failed to create query for method public abstract boolean lk.ijse.poweralert.repository.OutageGeospatialRepository.existsByOutageIdAndUserIdAndTypeAndStatus(java.lang.Long,java.lang.Long,lk.ijse.poweralert.enums.AppEnums$NotificationType,lk.ijse.poweralert.enums.AppEnums$NotificationStatus); No property 'userId' found for type 'OutageGeospatialData'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:88) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at org.springframework.data.util.Lazy.get(Lazy.java:113) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132) ~[spring-data-jpa-3.2.4.jar:3.2.4]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1833) ~[spring-beans-6.1.5.jar:6.1.5]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-6.1.5.jar:6.1.5]
	... 47 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract boolean lk.ijse.poweralert.repository.OutageGeospatialRepository.existsByOutageIdAndUserIdAndTypeAndStatus(java.lang.Long,java.lang.Long,lk.ijse.poweralert.enums.AppEnums$NotificationType,lk.ijse.poweralert.enums.AppEnums$NotificationStatus); No property 'userId' found for type 'OutageGeospatialData'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:106) ~[spring-data-jpa-3.2.4.jar:3.2.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:124) ~[spring-data-jpa-3.2.4.jar:3.2.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:258) ~[spring-data-jpa-3.2.4.jar:3.2.4]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95) ~[spring-data-jpa-3.2.4.jar:3.2.4]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111) ~[spring-data-commons-3.2.4.jar:3.2.4]
	... 59 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'userId' found for type 'OutageGeospatialData'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:90) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:443) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:419) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:372) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:354) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:332) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:212) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:194) ~[na:na]
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:556) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:702) ~[na:na]
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:212) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:194) ~[na:na]
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:556) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:546) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:702) ~[na:na]
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103) ~[spring-data-commons-3.2.4.jar:3.2.4]
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:100) ~[spring-data-jpa-3.2.4.jar:3.2.4]
	... 63 common frames omitted

